<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HIK Store UAE | Premium Electronics, Fashion, Home & Gaming - Free UAE Delivery</title>
    <meta name="description" content="UAE's #1 Premium Dropshipping Store. Shop latest electronics, fashion, home appliances, gaming gear with 2-3 day delivery. Free shipping over AED 50. 30-day returns.">
    <meta name="keywords" content="UAE shopping online, Dubai electronics, Abu Dhabi fashion, Sharjah home appliances, UAE free delivery">
    <meta property="og:title" content="HIK Store UAE - Premium Online Shopping">
    <meta property="og:description" content="Discover premium products with fast delivery across UAE">
    <meta property="og:image" content="https://hikstore.ae/logo.jpg">
    <meta property="og:url" content="https://hikstore.ae">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@hikstoreuae">
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "OnlineStore",
        "name": "HIK Store",
        "description": "Premium UAE Dropshipping Store with Fast Delivery",
        "url": "https://hikstore.ae",
        "logo": "https://hikstore.ae/logo.jpg",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Dubai",
            "addressRegion": "Dubai",
            "addressCountry": "AE"
        },
        "priceRange": "AED 50 - AED 10000",
        "openingHours": "Mo-Su 00:00-24:00",
        "telephone": "+971501234567",
        "sameAs": [
            "https://facebook.com/hikstoreuae",
            "https://instagram.com/hikstoreuae",
            "https://twitter.com/hikstoreuae"
        ]
    }
    </script>
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- Zoom Library -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css">
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
    
    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    
    <!-- REMOVE this line: -->
    <!-- <script src="https://unpkg.com/lenis@1.0.45/dist/lenis.min.js"></script> -->
    
    <style>
        /* ========== ENHANCED CSS VARIABLES ========== */
        :root {
            /* Enhanced Color Palette */
            --primary: #0066FF;
            --primary-dark: #0052D4;
            --primary-light: #3391FF;
            --primary-ultralight: #F0F7FF;
            --primary-gradient: linear-gradient(135deg, var(--primary) 0%, #0047CC 100%);
            
            --accent: #FF3366;
            --accent-dark: #E62E5C;
            --accent-light: #FF6699;
            --accent-gradient: linear-gradient(135deg, var(--accent) 0%, #FF0066 100%);
            
            --success: #10B981;
            --success-dark: #059669;
            --warning: #F59E0B;
            --warning-dark: #D97706;
            --error: #EF4444;
            --info: #3B82F6;
            
            /* Enhanced Text Colors */
            --text: #1A1D29;
            --text-light: #6B7280;
            --text-lighter: #9CA3AF;
            --text-on-dark: #FFFFFF;
            
            /* Enhanced Background Colors */
            --bg: #FFFFFF;
            --bg-light: #F8FAFC;
            --bg-lighter: #F1F5F9;
            --bg-dark: #0F172A;
            --bg-darker: #0A0F1C;
            
            /* Card & Surface */
            --card-bg: #FFFFFF;
            --card-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            --card-hover-shadow: 0 20px 60px rgba(0, 0, 0, 0.12);
            
            /* Borders */
            --border: #E5E7EB;
            --border-light: #F1F5F9;
            --border-dark: #D1D5DB;
            
            /* Enhanced Shadows */
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.05);
            --shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 12px 40px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.15);
            --shadow-xl: 0 30px 80px rgba(0, 0, 0, 0.2);
            
            /* Enhanced Radius */
            --radius: 16px;
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 20px;
            --radius-xl: 28px;
            --radius-2xl: 36px;
            --radius-full: 9999px;
            
            /* Enhanced Transitions */
            --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* Gradients */
            --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            --gradient-success: linear-gradient(135deg, var(--success) 0%, var(--success-dark) 100%);
            --gradient-warning: linear-gradient(135deg, var(--warning) 0%, var(--warning-dark) 100%);
            --gradient-offer: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            --gradient-dark: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-darker) 100%);
            --gradient-hero: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-hero-dark: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
            --gradient-premium: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #ff6b6b 50%, #ffa726 75%, #66bb6a 100%);
            
            /* Special Colors */
            --points: #FFD700;
            --points-dark: #FFA500;
            --rating: #F59E0B;
            
            /* Layout */
            --header-height: 80px;
            --container-max: 1440px;
            --section-padding: 100px 5%;
            --section-spacing: 80px;
            
            /* Animations */
            --float-animation: float 6s ease-in-out infinite;
        }
        
        /* ========== BASE STYLES ========== */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        html { 
            scroll-behavior: smooth; 
            scroll-padding-top: calc(var(--header-height) + 50px);
        }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--bg); 
            color: var(--text); 
            line-height: 1.6; 
            overflow-x: hidden; 
            position: relative;
            font-size: 16px;
            min-height: 100vh;
            opacity: 0;
            animation: fadeIn 1s ease forwards;
        }
        
        /* ========== ENHANCED TYPOGRAPHY ========== */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 1rem;
        }
        
        h1 {
            font-size: 3.75rem;
            background: var(--gradient-premium);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }
        
        h2 {
            font-size: 2.5rem;
            color: var(--text);
            position: relative;
            display: inline-block;
            padding-bottom: 20px;
            letter-spacing: -0.01em;
        }
        
        h2:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 4px;
            background: var(--gradient-primary);
            border-radius: 2px;
            animation: widthPulse 3s infinite;
        }
        
        h3 {
            font-size: 1.75rem;
            color: var(--text);
            font-weight: 700;
            letter-spacing: -0.01em;
        }
        
        p {
            margin-bottom: 1.5rem;
            color: var(--text-light);
            line-height: 1.7;
        }
        
        a {
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition-fast);
        }
        
        a:hover {
            color: var(--primary-dark);
        }
        
        /* ========== ENHANCED COMPONENTS ========== */
        .section {
            padding: var(--section-padding);
            max-width: var(--container-max);
            margin: 0 auto;
            position: relative;
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 70px;
            position: relative;
        }
        
        .section-header h2 {
            margin-bottom: 25px;
            font-size: 2.75rem;
        }
        
        .section-header h2:after {
            left: 50%;
            transform: translateX(-50%);
        }
        
        .section-header p {
            font-size: 1.25rem;
            max-width: 700px;
            margin: 0 auto;
            opacity: 0.9;
            line-height: 1.8;
        }
        
        /* ========== POLISHED BUTTONS ========== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 18px 36px;
            border-radius: var(--radius);
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            text-decoration: none;
            position: relative;
            overflow: hidden;
            min-width: 160px;
            letter-spacing: 0.01em;
        }
        
        .btn:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .btn:hover:before {
            width: 400px;
            height: 400px;
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            color: var(--text-on-dark);
            box-shadow: 0 8px 25px rgba(0, 102, 255, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 15px 35px rgba(0, 102, 255, 0.4);
        }
        
        .btn-secondary {
            background: var(--bg);
            color: var(--primary);
            border: 2px solid var(--primary);
            box-shadow: var(--shadow);
        }
        
        .btn-secondary:hover {
            background: var(--primary-ultralight);
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }
        
        .btn-accent {
            background: var(--gradient-accent);
            color: var(--text-on-dark);
            box-shadow: 0 8px 25px rgba(255, 51, 102, 0.3);
        }
        
        .btn-accent:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 15px 35px rgba(255, 51, 102, 0.4);
        }
        
        .btn-checkout {
            background: linear-gradient(135deg, #10B981 0%, #059669 100%);
            color: var(--text-on-dark);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
            padding: 20px 40px;
            font-size: 1.2rem;
        }
        
        .btn-checkout:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 15px 35px rgba(16, 185, 129, 0.4);
        }
        
        /* ========== ENHANCED PRODUCT CARDS ========== */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 40px;
        }
        
        .product-card {
            background: var(--card-bg);
            border-radius: var(--radius-xl);
            overflow: hidden;
            transition: var(--transition);
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border);
            position: relative;
            height: 100%;
            display: flex;
            flex-direction: column;
            cursor: pointer;
            animation: cardAppear 0.6s ease;
        }
        
        .product-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: var(--card-hover-shadow);
            border-color: var(--primary-light);
        }
        
        .product-image-container {
            position: relative;
            overflow: hidden;
            height: 280px;
            background: linear-gradient(135deg, var(--bg-lighter) 0%, var(--bg-light) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
        }
        
        .product-card-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: center;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }
        
        .product-card:hover .product-card-image {
            transform: scale(1.15);
        }
        
        .product-card-badge {
            position: absolute;
            top: 20px;
            left: 20px;
            background: var(--gradient-accent);
            color: var(--text-on-dark);
            padding: 10px 22px;
            border-radius: var(--radius-full);
            font-size: 0.85rem;
            font-weight: 800;
            z-index: 2;
            box-shadow: 0 4px 15px rgba(255, 51, 102, 0.4);
            animation: badgePulse 2s infinite;
            letter-spacing: 0.5px;
        }
        
        .product-content {
            padding: 28px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .product-card-title {
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--text);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.4;
            height: 3.2em;
            font-size: 1.1rem;
        }
        
        .product-price {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .current-price {
            font-size: 1.75rem;
            font-weight: 900;
            color: var(--primary);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            letter-spacing: -0.01em;
        }
        
        .original-price {
            font-size: 1.1rem;
            color: var(--text-lighter);
            text-decoration: line-through;
        }
        
        .discount {
            background: var(--gradient-accent);
            color: var(--text-on-dark);
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            font-size: 0.85rem;
            font-weight: 800;
            animation: discountPulse 3s infinite;
            letter-spacing: 0.5px;
        }
        
        .product-card-actions {
            display: flex;
            gap: 12px;
            margin-top: auto;
        }
        
        .product-card-actions button {
            flex: 1;
            padding: 14px;
            border-radius: var(--radius);
            border: none;
            cursor: pointer;
            transition: var(--transition-fast);
            font-weight: 600;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-height: 48px;
        }
        
        .add-to-cart {
            background: var(--gradient-primary);
            color: var(--text-on-dark);
        }
        
        .add-to-cart:hover {
            background: var(--primary-dark);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 102, 255, 0.3);
        }
        
        .add-to-wishlist {
            background: var(--bg-lighter);
            color: var(--text-light);
            border: 1px solid var(--border);
            min-width: 48px;
            flex: none;
        }
        
        .add-to-wishlist:hover {
            background: var(--bg);
            color: var(--accent);
            border-color: var(--accent-light);
            transform: scale(1.1);
        }
        
        /* ========== ENHANCED HEADER ========== */
        #topBar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--header-height);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 5%;
            z-index: 1000;
            transition: var(--transition);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        #topBar.scrolled {
            height: 70px;
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15);
            background: rgba(255, 255, 255, 0.98);
        }
        
        .logoWrap {
            display: flex;
            align-items: center;
            gap: 15px;
            font-weight: 900;
            font-size: 2rem;
            text-decoration: none;
            letter-spacing: -0.02em;
        }
        
        .logoWrap span {
            background: var(--gradient-premium);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: logoGlow 4s infinite;
        }
        
        .logoWrap img {
            height: 45px;
            width: auto;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }
        
        .nav-links {
            display: flex;
            gap: 35px;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text);
            font-weight: 600;
            transition: var(--transition);
            padding: 12px 0;
            position: relative;
            font-size: 1rem;
            letter-spacing: 0.01em;
        }
        
        .nav-links a:before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--gradient-premium);
            border-radius: 3px;
            transition: var(--transition);
        }
        
        .nav-links a:hover:before {
            width: 100%;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .nav-actions {
            display: flex;
            align-items: center;
            gap: 25px;
        }
        
        .search-bar {
            position: relative;
        }
        
        .search-bar i {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            z-index: 1;
        }
        
        .search-bar input {
            padding: 14px 18px 14px 50px;
            border: 2px solid var(--border);
            border-radius: var(--radius-full);
            width: 300px;
            transition: var(--transition);
            font-family: 'Inter', sans-serif;
            background: var(--bg-lighter);
            font-size: 1rem;
            backdrop-filter: blur(10px);
        }
        
        .search-bar input:focus {
            outline: none;
            border-color: var(--primary);
            width: 350px;
            background: var(--bg);
            box-shadow: 0 0 0 4px rgba(0, 102, 255, 0.15);
        }
        
        .points-display, .user-icon, .wishlist-icon, .cart-icon, .comparison-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-full);
            background: var(--bg-lighter);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            border: 1px solid var(--border);
        }
        
        .points-display:hover, .user-icon:hover, .wishlist-icon:hover, .cart-icon:hover, .comparison-icon:hover {
            background: var(--primary-ultralight);
            transform: translateY(-3px) scale(1.1);
            border-color: var(--primary);
        }
        
        .wishlist-count, .cart-count, .comparison-count {
            position: absolute;
            top: -6px;
            right: -6px;
            background: var(--gradient-accent);
            color: var(--text-on-dark);
            width: 24px;
            height: 24px;
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            animation: countPulse 2s infinite;
            box-shadow: 0 2px 8px rgba(255, 51, 102, 0.3);
        }
        
        /* ========== FIXED CART DROPDOWN ========== */
        .cart-preview {
            position: absolute;
            top: 100%;
            right: 0;
            width: 420px;
            background: var(--card-bg);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--border);
            display: none;
            z-index: 1001;
            margin-top: 20px;
            animation: slideInDown 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            backdrop-filter: blur(20px);
        }
        
        .cart-icon:hover .cart-preview {
            display: block;
        }
        
        .cart-preview:before {
            content: '';
            position: absolute;
            top: -12px;
            right: 35px;
            width: 24px;
            height: 24px;
            background: var(--card-bg);
            transform: rotate(45deg);
            border-top: 1px solid var(--border);
            border-left: 1px solid var(--border);
        }
        
        .cart-preview-content {
            padding: 30px;
            max-height: 450px;
            overflow-y: auto;
        }
        
        .cart-preview-item {
            display: flex;
            gap: 20px;
            padding: 20px 0;
            border-bottom: 1px solid var(--border-light);
            animation: slideInRight 0.3s ease;
        }
        
        .cart-preview-item:last-child {
            border-bottom: none;
        }
        
        .cart-preview-item img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border-radius: var(--radius);
            background: var(--bg-lighter);
            padding: 8px;
            transition: var(--transition);
        }
        
        .cart-preview-item:hover img {
            transform: scale(1.1);
        }
        
        .cart-preview-item-info {
            flex: 1;
        }
        
        .cart-preview-item-title {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 10px;
            color: var(--text);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .cart-preview-item-price {
            color: var(--primary);
            font-weight: 800;
            font-size: 1.1rem;
        }
        
        .cart-preview-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 30px;
            background: var(--bg-lighter);
            border-top: 1px solid var(--border);
            font-weight: 800;
            font-size: 1.3rem;
        }
        
        .cart-preview-total span:last-child {
            color: var(--primary);
        }
        
        /* ========== ENHANCED AMAZON-STYLE HERO ========== */
        .hero-container {
            max-width: var(--container-max);
            margin: 0 auto;
            padding: calc(var(--header-height) + 60px) 5% 60px;
        }
        
        .hero-grid {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-bottom: 60px;
        }
        
        @media (max-width: 1200px) {
            .hero-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .hero-sidebar {
            background: var(--card-bg);
            border-radius: var(--radius-xl);
            padding: 30px;
            box-shadow: var(--card-shadow);
            height: fit-content;
            border: 1px solid var(--border);
            animation: slideInLeft 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
        }
        
        .hero-sidebar h3 {
            margin-bottom: 30px;
            color: var(--text);
            font-size: 1.3rem;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border);
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
        }
        
        .hero-sidebar h3 i {
            color: var(--primary);
        }
        
        .sidebar-links {
            list-style: none;
        }
        
        .sidebar-links li {
            margin-bottom: 18px;
            position: relative;
        }
        
        .sidebar-links a {
            color: var(--text);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 18px;
            padding: 14px 18px;
            border-radius: var(--radius);
            font-weight: 500;
            font-size: 1rem;
        }
        
        .sidebar-links a:hover {
            color: var(--primary);
            transform: translateX(12px);
            background: var(--primary-ultralight);
            box-shadow: var(--shadow-sm);
        }
        
        .sidebar-links a i {
            width: 24px;
            text-align: center;
            color: var(--primary);
            font-size: 1.2rem;
            transition: var(--transition);
        }
        
        .sidebar-links a:hover i {
            transform: scale(1.2);
        }
        
        .hero-main {
            position: relative;
            border-radius: var(--radius-xl);
            overflow: hidden;
            height: 600px;
            box-shadow: var(--shadow-xl);
            animation: heroAppear 1s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hero-slider {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .hero-slide.active {
            opacity: 1;
        }
        
        .hero-slide-content {
            position: absolute;
            bottom: 80px;
            left: 80px;
            color: white;
            max-width: 700px;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            animation: fadeInUp 1s ease 0.3s backwards;
        }
        
        .hero-slide-content h2 {
            font-size: 4rem;
            margin-bottom: 25px;
            color: white;
            font-weight: 900;
            line-height: 1.1;
            letter-spacing: -0.02em;
        }
        
        .hero-slide-content h2:after {
            display: none;
        }
        
        .hero-slide-content p {
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 35px;
            font-size: 1.3rem;
            line-height: 1.7;
        }
        
        .hero-slide-indicators {
            position: absolute;
            bottom: 40px;
            right: 40px;
            display: flex;
            gap: 15px;
        }
        
        .hero-slide-indicator {
            width: 16px;
            height: 16px;
            border-radius: var(--radius-full);
            background: rgba(255, 255, 255, 0.4);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            backdrop-filter: blur(10px);
        }
        
        .hero-slide-indicator.active {
            background: white;
            transform: scale(1.4);
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.3);
        }
        
        /* ========== ENHANCED FLASH SALE BANNER ========== */
        .flash-sale-banner {
            background: var(--gradient-premium);
            color: white;
            padding: 70px;
            border-radius: var(--radius-xl);
            margin: 60px 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(102, 126, 234, 0.4);
            animation: flashSalePulse 4s infinite;
        }
        
        .flash-sale-banner:before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            animation: rotate 30s linear infinite;
        }
        
        .flash-sale-content {
            position: relative;
            z-index: 2;
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 60px;
            align-items: center;
        }
        
        .flash-sale-text h2 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: white;
            font-weight: 900;
            letter-spacing: -0.02em;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .flash-sale-text p {
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 35px;
            font-size: 1.4rem;
            max-width: 600px;
            line-height: 1.7;
        }
        
        .countdown {
            display: flex;
            gap: 25px;
            margin: 40px 0;
        }
        
        .countdown-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 30px;
            border-radius: var(--radius-xl);
            min-width: 120px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }
        
        .countdown-item:hover {
            transform: translateY(-8px) scale(1.05);
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
        }
        
        .countdown-value {
            font-size: 3.5rem;
            font-weight: 900;
            display: block;
            color: var(--text-on-dark);
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            animation: countdownPulse 1.5s infinite;
        }
        
        .countdown-label {
            font-size: 1rem;
            opacity: 0.9;
            color: rgba(255, 255, 255, 0.95);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-top: 12px;
            display: block;
            font-weight: 600;
        }
        
        /* ========== ENHANCED HOME SECTIONS ========== */
        .home-section {
            background: var(--card-bg);
            border-radius: var(--radius-xl);
            padding: 50px;
            margin-bottom: 60px;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border);
            animation: sectionAppear 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
        }
        
        .home-section h2 {
            margin-bottom: 40px;
            color: var(--text);
            font-size: 2.2rem;
        }
        
        .section-header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 45px;
        }
        
        .view-more-btn {
            color: var(--primary);
            font-weight: 700;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
            font-size: 1.1rem;
            padding: 12px 24px;
            border-radius: var(--radius);
            background: var(--primary-ultralight);
            border: 2px solid var(--primary);
        }
        
        .view-more-btn:hover {
            background: var(--primary);
            color: white;
            gap: 20px;
            transform: translateX(8px);
            box-shadow: 0 8px 25px rgba(0, 102, 255, 0.3);
        }
        
        /* ========== PRODUCT SLIDERS ========== */
        .product-slider {
            position: relative;
            overflow: hidden;
            padding: 30px 0;
        }
        
        .product-slider-container {
            display: flex;
            gap: 35px;
            overflow-x: auto;
            padding: 30px 20px;
            scrollbar-width: none;
            -ms-overflow-style: none;
            scroll-behavior: smooth;
        }
        
        .product-slider-container::-webkit-scrollbar {
            display: none;
        }
        
        .slider-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 60px;
            background: var(--card-bg);
            border: 2px solid var(--border);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            z-index: 10;
            box-shadow: var(--shadow-lg);
            opacity: 0;
            font-size: 1.3rem;
            backdrop-filter: blur(10px);
        }
        
        .product-slider:hover .slider-nav {
            opacity: 1;
            animation: fadeIn 0.4s ease;
        }
        
        .slider-nav:hover {
            background: var(--primary);
            color: var(--text-on-dark);
            border-color: var(--primary);
            transform: translateY(-50%) scale(1.15);
            box-shadow: 0 10px 30px rgba(0, 102, 255, 0.3);
        }
        
        .slider-nav.prev {
            left: 20px;
        }
        
        .slider-nav.next {
            right: 20px;
        }
        
        .slider-nav.disabled {
            opacity: 0.2;
            cursor: not-allowed;
        }
        
        .slider-nav.disabled:hover {
            background: var(--card-bg);
            color: var(--text);
            border-color: var(--border);
            transform: translateY(-50%);
        }
        
        .product-slider-card {
            min-width: 320px;
            flex-shrink: 0;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .product-slider-card:hover {
            transform: scale(1.08);
        }
        
        /* ========== BROWSE HISTORY ========== */
        .browse-history {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 35px;
        }
        
        .history-item {
            background: var(--bg-lighter);
            border-radius: var(--radius-xl);
            padding: 35px;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
            animation: historyAppear 0.6s ease;
        }
        
        .history-item:hover {
            transform: translateY(-15px) scale(1.08);
            background: var(--bg);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary-light);
        }
        
        .history-item img {
            width: 160px;
            height: 160px;
            object-fit: contain;
            margin-bottom: 25px;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }
        
        .history-item:hover img {
            transform: rotate(8deg) scale(1.2);
        }
        
        .history-item-title {
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text);
            font-size: 1.1rem;
            line-height: 1.5;
        }
        
        .history-item-price {
            color: var(--primary);
            font-weight: 900;
            font-size: 1.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        /* ========== AD BANNER ========== */
        .ad-banner {
            margin: 70px 0;
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            position: relative;
            height: 500px;
            cursor: pointer;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            animation: float 20s ease-in-out infinite;
        }
        
        .ad-banner:hover {
            transform: scale(1.03);
        }
        
        .ad-banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 10s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .ad-banner:hover img {
            transform: scale(1.15);
        }
        
        .banner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, rgba(0,0,0,0) 100%);
            display: flex;
            align-items: center;
            padding-left: 100px;
        }
        
        .banner-content {
            color: white;
            max-width: 700px;
            animation: slideInRight 1s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .banner-content h1 {
            font-size: 4.5rem;
            margin-bottom: 30px;
            color: white;
            -webkit-text-fill-color: white;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }
        
        .banner-content p {
            color: rgba(255,255,255,0.95);
            margin-bottom: 45px;
            font-size: 1.5rem;
            line-height: 1.7;
        }
        
        /* ========== TWO COLUMN LAYOUT ========== */
        .two-column-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 45px;
            margin-bottom: 60px;
        }
        
        @media (max-width: 1200px) {
            .two-column-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* ========== DEALS SECTION ========== */
        .deals-section {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 50px;
            border-radius: var(--radius-xl);
            margin-bottom: 60px;
            position: relative;
            overflow: hidden;
        }
        
        .deals-section:before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            animation: rotate 25s linear infinite;
        }
        
        .deals-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 45px;
            flex-wrap: wrap;
            gap: 25px;
            position: relative;
            z-index: 2;
        }
        
        .deals-header h2 {
            color: white;
            margin-bottom: 0;
            font-size: 2.5rem;
        }
        
        .deals-header h2:after {
            background: white;
        }
        
        .deals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 35px;
            position: relative;
            z-index: 2;
        }
        
        .deal-card {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--radius-xl);
            padding: 40px;
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .deal-card:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-15px) scale(1.05);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 20px 50px rgba(255, 255, 255, 0.2);
        }
        
        .deal-card h3 {
            color: white;
            margin-bottom: 25px;
            font-size: 1.6rem;
            font-weight: 800;
        }
        
        .deal-card p {
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 30px;
            font-size: 1.1rem;
            line-height: 1.7;
        }
        
        /* ========== FEATURED CATEGORIES ========== */
        .featured-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .featured-category {
            background: var(--bg-lighter);
            border-radius: var(--radius-xl);
            padding: 40px 25px;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .featured-category:hover {
            background: var(--primary-ultralight);
            border-color: var(--primary);
            transform: translateY(-15px) scale(1.08);
            box-shadow: var(--shadow-xl);
        }
        
        .featured-category-icon {
            font-size: 52px;
            margin-bottom: 25px;
            background: var(--gradient-premium);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .featured-category:hover .featured-category-icon {
            transform: rotate(360deg) scale(1.3);
        }
        
        .featured-category-title {
            font-weight: 800;
            color: var(--text);
            font-size: 1.2rem;
            letter-spacing: 0.01em;
        }
        
        /* ========== SMALL PRODUCT GRID ========== */
        .small-products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .small-product-card {
            background: var(--bg-lighter);
            border-radius: var(--radius-xl);
            padding: 35px;
            text-align: center;
            transition: var(--transition);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .small-product-card:hover {
            transform: translateY(-12px) scale(1.08);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary-light);
            background: var(--bg);
        }
        
        .small-product-card img {
            width: 140px;
            height: 140px;
            object-fit: contain;
            margin-bottom: 25px;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }
        
        .small-product-card:hover img {
            transform: scale(1.3) rotate(8deg);
        }
        
        .small-product-title {
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text);
            font-size: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            height: 3em;
            line-height: 1.5;
        }
        
        .small-product-price {
            color: var(--primary);
            font-weight: 900;
            font-size: 1.4rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        /* ========== ENHANCED FEATURES SECTION ========== */
        .features-section {
            background: var(--gradient-premium);
            color: white;
            padding: 100px 5%;
            border-radius: var(--radius-xl);
            margin: 100px 0;
            position: relative;
            overflow: hidden;
        }
        
        .features-section:before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            animation: rotate 30s linear infinite;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 50px;
            position: relative;
            z-index: 2;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--radius-xl);
            padding: 50px;
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .feature-card:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-15px) scale(1.05);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 30px 60px rgba(255, 255, 255, 0.2);
        }
        
        .feature-icon {
            font-size: 68px;
            margin-bottom: 35px;
            background: linear-gradient(135deg, white 0%, rgba(255,255,255,0.9) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: float 6s ease-in-out infinite;
        }
        
        .feature-card h3 {
            color: white;
            margin-bottom: 25px;
            font-size: 1.8rem;
            font-weight: 800;
        }
        
        .feature-card p {
            color: rgba(255, 255, 255, 0.95);
            line-height: 1.8;
            font-size: 1.15rem;
        }
        
        /* ========== ENHANCED NEWSLETTER ========== */
        .newsletter-section {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 100px 5%;
            border-radius: var(--radius-xl);
            margin: 100px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .newsletter-section:before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            animation: rotate 25s linear infinite;
        }
        
        .newsletter-content {
            position: relative;
            z-index: 2;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .newsletter-form {
            display: flex;
            gap: 20px;
            margin: 50px 0;
        }
        
        .newsletter-input {
            flex: 1;
            padding: 22px 30px;
            border: none;
            border-radius: var(--radius);
            font-size: 1.2rem;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            transition: var(--transition);
        }
        
        .newsletter-input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.25);
            border-color: white;
            box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.2);
        }
        
        .newsletter-input::placeholder {
            color: rgba(255, 255, 255, 0.8);
        }
        
        .newsletter-note {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            line-height: 1.7;
        }
        
        /* ========== CHECKOUT SECTION ========== */
        .checkout-section {
            text-align: center;
            padding: 100px 5%;
            background: linear-gradient(135deg, var(--bg-light) 0%, var(--bg) 100%);
            border-radius: var(--radius-xl);
            margin: 80px 0;
        }
        
        .checkout-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .checkout-content h2 {
            font-size: 3rem;
            margin-bottom: 30px;
            background: var(--gradient-premium);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .checkout-content p {
            font-size: 1.3rem;
            margin-bottom: 50px;
            color: var(--text-light);
        }
        
        /* ========== PRODUCT DETAIL MODAL ========== */
        .product-detail-modal .modal-content {
            max-width: 1400px;
            padding: 0;
            overflow: hidden;
            border-radius: var(--radius-xl);
        }
        
        .product-detail-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
        }
        
        @media (max-width: 1100px) {
            .product-detail-container {
                grid-template-columns: 1fr;
            }
        }
        
        .product-detail-images {
            padding: 60px;
            background: linear-gradient(135deg, var(--bg-lighter) 0%, var(--bg-light) 100%);
            display: flex;
            flex-direction: column;
            gap: 40px;
        }
        
        .product-main-image {
            width: 100%;
            height: 450px;
            object-fit: contain;
            border-radius: var(--radius-xl);
            background: white;
            padding: 40px;
            filter: drop-shadow(0 8px 20px rgba(0,0,0,0.1));
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .product-detail-images:hover .product-main-image {
            transform: scale(1.05);
        }
        
        .product-thumbnails {
            display: flex;
            gap: 20px;
            overflow-x: auto;
        }
        
        .product-thumbnail {
            width: 90px;
            height: 90px;
            object-fit: contain;
            border-radius: var(--radius);
            border: 2px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
            background: white;
            padding: 10px;
        }
        
        .product-thumbnail.active {
            border-color: var(--primary);
            transform: scale(1.2);
            box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
        }
        
        .product-detail-info {
            padding: 60px;
            overflow-y: auto;
            max-height: 95vh;
        }
        
        .product-detail-badge {
            display: inline-block;
            background: var(--gradient-premium);
            color: white;
            padding: 12px 30px;
            border-radius: var(--radius-full);
            font-size: 1rem;
            font-weight: 900;
            margin-bottom: 25px;
            animation: badgePulse 3s infinite;
            letter-spacing: 1px;
        }
        
        .product-detail-title {
            font-size: 2.5rem;
            margin-bottom: 25px;
            color: var(--text);
            line-height: 1.3;
            letter-spacing: -0.01em;
        }
        
        .product-detail-price {
            display: flex;
            align-items: center;
            gap: 25px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .product-detail-current {
            font-size: 3.5rem;
            font-weight: 900;
            color: var(--primary);
            letter-spacing: -0.02em;
        }
        
        .product-detail-original {
            font-size: 1.8rem;
            color: var(--text-lighter);
            text-decoration: line-through;
        }
        
        .product-detail-discount {
            background: var(--gradient-premium);
            color: white;
            padding: 12px 30px;
            border-radius: var(--radius-full);
            font-size: 1.3rem;
            font-weight: 900;
        }
        
        .product-detail-rating {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .product-detail-stars {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--rating);
            font-size: 1.5rem;
        }
        
        .product-detail-reviews {
            color: var(--text-light);
            font-size: 1.1rem;
        }
        
        .product-detail-stock {
            background: var(--success);
            color: white;
            padding: 12px 30px;
            border-radius: var(--radius-full);
            font-weight: 900;
            display: inline-block;
            margin-bottom: 40px;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        
        .product-detail-description {
            color: var(--text-light);
            line-height: 1.9;
            margin-bottom: 50px;
            font-size: 1.2rem;
        }
        
        .product-detail-specs {
            margin-bottom: 50px;
        }
        
        .product-detail-specs h4 {
            margin-bottom: 20px;
            color: var(--text);
            font-size: 1.4rem;
        }
        
        .product-detail-specs ul {
            list-style: none;
        }
        
        .product-detail-specs li {
            display: flex;
            justify-content: space-between;
            padding: 16px 0;
            border-bottom: 1px solid var(--border-light);
        }
        
        .product-detail-specs li:last-child {
            border-bottom: none;
        }
        
        .product-detail-actions {
            display: flex;
            gap: 20px;
            margin-bottom: 50px;
            flex-wrap: wrap;
        }
        
        .product-detail-actions .btn {
            flex: 1;
            min-width: 220px;
            padding: 22px;
            font-size: 1.2rem;
        }
        
        .similar-products-section {
            margin-top: 50px;
            padding-top: 50px;
            border-top: 1px solid var(--border);
        }
        
        .similar-products-section h4 {
            margin-bottom: 30px;
            color: var(--text);
            font-size: 1.5rem;
        }
        
        .similar-products {
            display: flex;
            gap: 25px;
            overflow-x: auto;
            padding: 15px 10px;
        }
        
        .similar-product-card {
            min-width: 200px;
            background: var(--bg-lighter);
            border-radius: var(--radius-xl);
            padding: 25px;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .similar-product-card:hover {
            border-color: var(--primary);
            transform: translateY(-8px) scale(1.05);
        }
        
        .similar-product-card img {
            width: 140px;
            height: 140px;
            object-fit: contain;
            margin-bottom: 20px;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }
        
        .similar-product-title {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 15px;
            color: var(--text);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            height: 3em;
        }
        
        .similar-product-price {
            color: var(--primary);
            font-weight: 900;
            font-size: 1.3rem;
        }
        
        /* ========== PROFILE MODAL ========== */
        .profile-modal .modal-content {
            max-width: 900px;
            padding: 0;
            border-radius: var(--radius-xl);
        }
        
        .profile-tabs {
            display: flex;
            background: var(--bg-lighter);
            border-bottom: 1px solid var(--border);
        }
        
        .profile-tab {
            flex: 1;
            padding: 25px;
            text-align: center;
            background: none;
            border: none;
            font-family: 'Inter', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-light);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }
        
        .profile-tab.active {
            color: var(--primary);
        }
        
        .profile-tab.active:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-premium);
        }
        
        .profile-content {
            padding: 60px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .profile-section {
            display: none;
        }
        
        .profile-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: var(--radius-full);
            background: var(--gradient-premium);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            font-weight: 900;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            animation: avatarFloat 6s ease-in-out infinite;
        }
        
        .profile-info h3 {
            margin-bottom: 15px;
            color: var(--text);
            font-size: 2rem;
        }
        
        .profile-info p {
            color: var(--text-light);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }
        
        .profile-stat {
            background: var(--bg-lighter);
            border-radius: var(--radius-xl);
            padding: 35px;
            text-align: center;
            transition: var(--transition);
            border: 2px solid transparent;
        }
        
        .profile-stat:hover {
            transform: translateY(-8px);
            border-color: var(--primary);
            box-shadow: var(--shadow-lg);
        }
        
        .profile-stat-value {
            font-size: 3rem;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .profile-stat-label {
            color: var(--text-light);
            font-size: 1rem;
            font-weight: 600;
        }
        
        .profile-form {
            display: grid;
            gap: 25px;
            margin-top: 40px;
        }
        
        .profile-form-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .profile-form-group label {
            font-weight: 700;
            color: var(--text);
            font-size: 1rem;
        }
        
        .profile-form-group input,
        .profile-form-group select {
            padding: 18px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-family: 'Inter', sans-serif;
            font-size: 1.1rem;
            transition: var(--transition);
            background: var(--bg-light);
        }
        
        .profile-form-group input:focus,
        .profile-form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 102, 255, 0.15);
        }
        
        .orders-list {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .order-card {
            background: var(--bg-lighter);
            border-radius: var(--radius-xl);
            padding: 35px;
            border: 2px solid var(--border);
            transition: var(--transition);
        }
        
        .order-card:hover {
            border-color: var(--primary);
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .order-id {
            font-weight: 900;
            color: var(--text);
            font-size: 1.2rem;
        }
        
        .order-status {
            padding: 10px 25px;
            border-radius: var(--radius-full);
            font-weight: 900;
            font-size: 1rem;
        }
        
        .order-status.processing {
            background: var(--warning);
            color: var(--text);
        }
        
        .order-status.delivered {
            background: var(--success);
            color: white;
        }
        
        .order-status.shipped {
            background: var(--info);
            color: white;
        }
        
        .order-items {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding: 20px 0;
        }
        
        .order-item {
            min-width: 140px;
            text-align: center;
        }
        
        .order-item img {
            width: 100px;
            height: 100px;
            object-fit: contain;
            margin-bottom: 15px;
            border-radius: var(--radius-xl);
            background: white;
            padding: 15px;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }
        
        .order-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 25px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .order-total {
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--primary);
        }
        
        /* ========== MOBILE MENU ========== */
        .mobile-menu {
            position: fixed;
            top: var(--header-height);
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            display: none;
            z-index: 999;
            animation: slideInRight 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .mobile-menu.active {
            display: block;
        }
        
        .mobile-menu-content {
            background: var(--card-bg);
            padding: 50px 40px;
            height: 100%;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 25px;
            animation: slideInRight 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .mobile-menu-content a {
            color: var(--text);
            text-decoration: none;
            font-weight: 700;
            padding: 22px 25px;
            border-radius: var(--radius-xl);
            transition: var(--transition);
            border: 2px solid transparent;
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 1.1rem;
        }
        
        .mobile-menu-content a:hover {
            background: var(--primary-ultralight);
            color: var(--primary);
            border-color: var(--primary);
            transform: translateX(15px);
            box-shadow: var(--shadow);
        }
        
        .mobile-menu-content a i {
            width: 30px;
            font-size: 1.4rem;
        }
        
        /* ========== ENHANCED MODALS ========== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            padding: 30px;
            animation: fadeIn 0.4s ease;
            backdrop-filter: blur(20px);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--card-bg);
            border-radius: var(--radius-xl);
            padding: 60px;
            max-width: 600px;
            width: 100%;
            max-height: 95vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
            animation: modalAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--border);
            backdrop-filter: blur(30px);
        }
        
        @keyframes modalAppear {
            from { transform: translateY(60px) scale(0.95); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }
        
        .modal-close {
            position: absolute;
            top: 30px;
            right: 30px;
            background: rgba(0, 0, 0, 0.2);
            color: var(--text-on-dark);
            width: 50px;
            height: 50px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: none;
            transition: var(--transition);
            font-size: 1.5rem;
            z-index: 2;
            backdrop-filter: blur(10px);
        }
        
        .modal-close:hover {
            background: rgba(0, 0, 0, 0.4);
            transform: rotate(90deg) scale(1.1);
        }
        
        /* ========== ENHANCED FOOTER ========== */
        .footer {
            background: var(--bg-dark);
            color: var(--text-on-dark);
            padding: 100px 5% 50px;
            position: relative;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 60px;
            max-width: var(--container-max);
            margin: 0 auto;
        }
        
        .footer-column h3 {
            font-size: 1.8rem;
            margin-bottom: 40px;
            color: var(--text-on-dark);
            position: relative;
            padding-bottom: 25px;
        }
        
        .footer-column h3:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 4px;
            background: var(--gradient-premium);
            border-radius: 2px;
        }
        
        .footer-column p {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.9;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 20px;
            position: relative;
            padding-left: 0;
            transition: padding-left 0.4s ease;
        }
        
        .footer-links li:hover {
            padding-left: 15px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 1.1rem;
        }
        
        .footer-links a:hover {
            color: var(--primary-light);
            transform: translateX(8px);
        }
        
        .footer-links a:before {
            content: '';
            opacity: 0;
            transition: var(--transition);
            font-size: 1.5rem;
        }
        
        .footer-links a:hover:before {
            opacity: 1;
        }
        
        .payment-icons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .payment-icon {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: rgba(255, 255, 255, 0.8);
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }
        
        .payment-icon:hover {
            background: rgba(255, 255, 255, 0.25);
            color: var(--text-on-dark);
            transform: translateY(-8px) scale(1.1);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 60px;
            margin-top: 60px;
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.6);
            font-size: 1rem;
        }
        
        /* ========== FIXED TRUST BADGES ========== */
        .trust-badges-bar {
            background: var(--card-bg);
            padding: 25px 0;
            border-bottom: 1px solid var(--border);
            position: relative;
            z-index: 900;
            margin-top: var(--header-height);
            width: 100%;
            box-shadow: var(--shadow);
            backdrop-filter: blur(20px);
        }
        
        .trust-badges-container {
            max-width: var(--container-max);
            margin: 0 auto;
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 40px;
            padding: 0 5%;
        }
        
        .trust-badge-item {
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 1.1rem;
            color: var(--text);
            font-weight: 700;
            white-space: nowrap;
        }
        
        .trust-badge-icon {
            width: 55px;
            height: 55px;
            background: var(--gradient-premium);
            color: var(--text-on-dark);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            flex-shrink: 0;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            animation: float 6s ease-in-out infinite;
        }
        
        /* ========== ENHANCED WIDGETS ========== */
        .whatsapp-widget {
            position: fixed;
            bottom: 50px;
            right: 50px;
            width: 80px;
            height: 80px;
            background: #25D366;
            color: var(--text-on-dark);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            cursor: pointer;
            box-shadow: var(--shadow-xl);
            transition: var(--transition);
            z-index: 997;
            animation: whatsappFloat 4s ease-in-out infinite;
        }
        
        .whatsapp-widget:hover {
            transform: scale(1.2) rotate(15deg);
            box-shadow: 0 15px 40px rgba(37, 211, 102, 0.5);
        }
        
        .back-to-top {
            position: fixed;
            bottom: 150px;
            right: 50px;
            width: 70px;
            height: 70px;
            background: var(--gradient-premium);
            color: var(--text-on-dark);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            z-index: 998;
            box-shadow: var(--shadow-xl);
            font-size: 1.5rem;
        }
        
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
            animation: fadeInUp 0.4s ease;
        }
        
        .back-to-top:hover {
            transform: translateY(-8px) scale(1.15);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5);
        }
        
        /* ========== ENHANCED NOTIFICATION ========== */
        .notification {
            position: fixed;
            top: 150px;
            right: 50px;
            background: var(--card-bg);
            color: var(--text);
            padding: 30px;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            display: flex;
            align-items: center;
            gap: 25px;
            z-index: 9999;
            transform: translateX(600px);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            max-width: 450px;
            border-left: 6px solid var(--success);
            animation: slideInRight 0.5s ease;
            backdrop-filter: blur(30px);
            border: 1px solid var(--border);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification i {
            font-size: 32px;
            color: var(--success);
        }
        
        .notification.error i {
            color: var(--error);
        }
        
        /* ========== ENHANCED ANIMATIONS ========== */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-40px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(40px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        @keyframes flashSalePulse {
            0%, 100% { 
                box-shadow: 0 20px 60px rgba(102, 126, 234, 0.4);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 20px 80px rgba(102, 126, 234, 0.6);
                transform: scale(1.005);
            }
        }
        
        @keyframes countdownPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }
        
        @keyframes whatsappFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes countPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }
        
        @keyframes widthPulse {
            0%, 100% { width: 80px; }
            50% { width: 120px; }
        }
        
        @keyframes logoGlow {
            0%, 100% { filter: drop-shadow(0 0 0 rgba(102, 126, 234, 0)); }
            50% { filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.6)); }
        }
        
        @keyframes badgePulse {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 4px 15px rgba(255, 51, 102, 0.4);
            }
            50% { 
                transform: scale(1.05);
                box-shadow: 0 6px 20px rgba(255, 51, 102, 0.6);
            }
        }
        
        @keyframes discountPulse {
            0%, 100% { 
                transform: scale(1);
                background: var(--gradient-accent);
            }
            50% { 
                transform: scale(1.05);
                background: linear-gradient(135deg, #FF0066 0%, #FF3366 100%);
            }
        }
        
        @keyframes cardAppear {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        @keyframes sectionAppear {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes heroAppear {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes historyAppear {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes avatarFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* ========== RESPONSIVE DESIGN ========== */
        @media (max-width: 1400px) {
            .hero-slide-content h2 {
                font-size: 3.5rem;
            }
            
            .hero-main {
                height: 550px;
            }
            
            .flash-sale-text h2 {
                font-size: 3rem;
            }
            
            .countdown-item {
                min-width: 100px;
                padding: 25px;
            }
            
            .countdown-value {
                font-size: 3rem;
            }
        }
        
        @media (max-width: 1200px) {
            .nav-links {
                display: none;
            }
            
            .hero-slide-content h2 {
                font-size: 3rem;
            }
            
            .hero-slide-content {
                bottom: 50px;
                left: 50px;
                max-width: 500px;
            }
            
            .flash-sale-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .search-bar input {
                width: 250px;
            }
            
            .search-bar input:focus {
                width: 300px;
            }
            
            .mobile-menu-btn {
                display: flex;
                flex-direction: column;
                gap: 6px;
                cursor: pointer;
                width: 36px;
                height: 36px;
                justify-content: center;
                margin-left: 20px;
            }
            
            .mobile-menu-btn div {
                width: 100%;
                height: 3px;
                background: var(--text);
                border-radius: 2px;
                transition: var(--transition);
            }
            
            .mobile-menu-btn.active div:nth-child(1) {
                transform: rotate(45deg) translateY(10px);
            }
            
            .mobile-menu-btn.active div:nth-child(2) {
                opacity: 0;
            }
            
            .mobile-menu-btn.active div:nth-child(3) {
                transform: rotate(-45deg) translateY(-10px);
            }
        }
        
        @media (max-width: 992px) {
            .hero-container {
                padding: calc(var(--header-height) + 40px) 5% 40px;
            }
            
            .hero-main {
                height: 500px;
            }
            
            .hero-slide-content {
                bottom: 40px;
                left: 40px;
                max-width: 400px;
            }
            
            .hero-slide-content h2 {
                font-size: 2.5rem;
                margin-bottom: 20px;
            }
            
            .hero-slide-content p {
                font-size: 1.2rem;
                margin-bottom: 25px;
            }
            
            .flash-sale-banner {
                padding: 50px;
            }
            
            .flash-sale-text h2 {
                font-size: 2.5rem;
            }
            
            .countdown {
                gap: 20px;
            }
            
            .countdown-item {
                min-width: 90px;
                padding: 22px;
            }
            
            .countdown-value {
                font-size: 2.5rem;
            }
            
            .ad-banner {
                height: 400px;
            }
            
            .banner-content {
                padding-left: 50px;
            }
            
            .banner-content h1 {
                font-size: 3.5rem;
            }
            
            .home-section {
                padding: 40px;
            }
            
            .section-header-row h2 {
                font-size: 2rem;
            }
            
            .whatsapp-widget {
                bottom: 40px;
                right: 40px;
                width: 70px;
                height: 70px;
                font-size: 36px;
            }
            
            .back-to-top {
                bottom: 130px;
                right: 40px;
                width: 60px;
                height: 60px;
            }
            
            .newsletter-form {
                flex-direction: column;
            }
            
            .product-detail-images,
            .product-detail-info {
                padding: 40px;
            }
            
            .section {
                padding: 80px 5%;
            }
        }
        
        @media (max-width: 768px) {
            .hero-main {
                height: 400px;
            }
            
            .hero-slide-content {
                bottom: 35px;
                left: 35px;
                max-width: 350px;
            }
            
            .hero-slide-content h2 {
                font-size: 2rem;
            }
            
            .flash-sale-banner {
                padding: 40px;
            }
            
            .countdown {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .countdown-item {
                min-width: 100px;
            }
            
            .ad-banner {
                height: 350px;
            }
            
            .banner-content {
                padding-left: 40px;
            }
            
            .banner-content h1 {
                font-size: 2.8rem;
            }
            
            .home-section {
                padding: 35px;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .featured-categories {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .small-products-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .search-bar input {
                width: 200px;
            }
            
            .trust-badges-container {
                flex-direction: column;
                align-items: flex-start;
                gap: 25px;
            }
            
            .notification {
                right: 30px;
                max-width: calc(100% - 60px);
            }
            
            .profile-content {
                padding: 40px;
            }
            
            .product-detail-actions .btn {
                min-width: 100%;
            }
            
            h1 {
                font-size: 2.8rem;
            }
            
            h2 {
                font-size: 2.2rem;
            }
            
            .btn {
                padding: 16px 30px;
                font-size: 1rem;
            }
        }
        
        @media (max-width: 576px) {
            .hero-main {
                height: 350px;
            }
            
            .hero-slide-content {
                bottom: 30px;
                left: 30px;
                max-width: 300px;
            }
            
            .hero-slide-content h2 {
                font-size: 1.8rem;
            }
            
            .flash-sale-banner {
                padding: 30px;
            }
            
            .countdown-item {
                min-width: 80px;
                padding: 20px;
            }
            
            .countdown-value {
                font-size: 2rem;
            }
            
            .ad-banner {
                height: 300px;
            }
            
            .banner-content {
                padding-left: 30px;
            }
            
            .banner-content h1 {
                font-size: 2.2rem;
            }
            
            .home-section {
                padding: 30px;
            }
            
            .featured-categories {
                grid-template-columns: 1fr;
            }
            
            .small-products-grid {
                grid-template-columns: 1fr;
            }
            
            .search-bar input {
                width: 160px;
            }
            
            .notification {
                right: 20px;
                max-width: calc(100% - 40px);
                padding: 25px;
            }
            
            .modal-content {
                padding: 40px 30px;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
            
            .whatsapp-widget {
                bottom: 30px;
                right: 30px;
                width: 60px;
                height: 60px;
                font-size: 30px;
            }
            
            .back-to-top {
                bottom: 110px;
                right: 30px;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header id="topBar">
        <a href="#" class="logoWrap" onclick="showMainContent(event)">
            <img src="logo.jpg" alt="HIK Store UAE Logo">
            <span>HIK STORE</span>
        </a>
        
        <nav class="nav-links" id="navLinks">
            <a href="#popular" onclick="showMainContent(event)"><i class="fas fa-fire"></i> Popular</a>
            <a href="#categories" onclick="showMainContent(event)"><i class="fas fa-th-large"></i> Categories</a>
            <a href="#deals" onclick="showMainContent(event)"><i class="fas fa-tags"></i> Deals</a>
            <a href="#history" onclick="showMainContent(event)"><i class="fas fa-history"></i> History</a>
            <a href="#features" onclick="showMainContent(event)"><i class="fas fa-star"></i> Features</a>
            <a href="#" onclick="showProfileModal(event)"><i class="fas fa-user"></i> Profile</a>
            <a href="#" onclick="showCheckoutModal(event)"><i class="fas fa-shopping-cart"></i> Checkout</a>
        </nav>
        
        <div class="nav-actions">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search premium products..." id="searchInput">
            </div>
            
            <div class="comparison-icon" id="comparisonBtn" title="Product Comparison" onclick="showComparisonModal()">
                <i class="fas fa-balance-scale"></i>
                <span class="comparison-count">0</span>
            </div>
            
            <div class="points-display" id="pointsDisplayBtn" title="Reward Points" onclick="showProfileModal()">
                <i class="fas fa-crown"></i>
                <span id="pointsValue">0</span>
            </div>
            
            <div class="user-icon" id="userBtn" title="Account" onclick="showProfileModal()">
                <i class="fas fa-user"></i>
            </div>
            
            <div class="wishlist-icon" id="wishlistBtn" title="Wishlist" onclick="showProfileModal('wishlist')">
                <i class="fas fa-heart"></i>
                <span class="wishlist-count">0</span>
            </div>
            
            <div class="cart-icon" id="cartBtn" title="Cart">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count">0</span>
                <div class="cart-preview">
                    <div class="cart-preview-content" id="cartPreviewContent">
                        <!-- Cart preview items will be loaded here -->
                    </div>
                    <div class="cart-preview-total">
                        <span>Total:</span>
                        <span id="cartPreviewTotal">AED 0</span>
                    </div>
                    <button class="btn btn-checkout" onclick="redirectToCheckout()" style="width: calc(100% - 60px); margin: 25px 30px;">
                        <i class="fas fa-lock"></i> Secure Checkout
                    </button>
                </div>
            </div>
            
            <div class="mobile-menu-btn" id="mobileMenuBtn">
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-content">
            <a href="#popular" onclick="showMainContent(event); closeMobileMenu()"><i class="fas fa-fire"></i> Popular Products</a>
            <a href="#categories" onclick="showMainContent(event); closeMobileMenu()"><i class="fas fa-th-large"></i> Shop Categories</a>
            <a href="#deals" onclick="showMainContent(event); closeMobileMenu()"><i class="fas fa-tags"></i> Today's Deals</a>
            <a href="#history" onclick="showMainContent(event); closeMobileMenu()"><i class="fas fa-history"></i> Browsing History</a>
            <a href="#features" onclick="showMainContent(event); closeMobileMenu()"><i class="fas fa-star"></i> Why Shop With Us</a>
            <a href="#" onclick="showProfileModal(event); closeMobileMenu()"><i class="fas fa-user"></i> My Profile</a>
            <a href="#" onclick="showCheckoutModal(event); closeMobileMenu()"><i class="fas fa-shopping-cart"></i> Secure Checkout</a>
        </div>
    </div>

    <!-- Trust Badges -->
    <div class="trust-badges-bar">
        <div class="trust-badges-container">
            <div class="trust-badge-item">
                <div class="trust-badge-icon">
                    <i class="fas fa-shipping-fast"></i>
                </div>
                <span>Free UAE Delivery Over AED 50</span>
            </div>
            <div class="trust-badge-item">
                <div class="trust-badge-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <span>100% Secure Payment</span>
            </div>
            <div class="trust-badge-item">
                <div class="trust-badge-icon">
                    <i class="fas fa-undo"></i>
                </div>
                <span>30-Day Easy Returns</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Hero Banner with Sidebar -->
        <div class="hero-container">
            <div class="hero-grid">
                <!-- Polished Shop by Department -->
                <div class="hero-sidebar">
                    <h3><i class="fas fa-bars"></i> Shop by Department</h3>
                    <ul class="sidebar-links">
                        <li><a href="#" onclick="filterProducts('electronics')"><i class="fas fa-laptop"></i> Electronics</a></li>
                        <li><a href="#" onclick="filterProducts('gaming')"><i class="fas fa-gamepad"></i> Gaming</a></li>
                        <li><a href="#" onclick="filterProducts('home')"><i class="fas fa-home"></i> Home & Kitchen</a></li>
                        <li><a href="#" onclick="filterProducts('fashion')"><i class="fas fa-tshirt"></i> Fashion</a></li>
                        <li><a href="#" onclick="filterProducts('beauty')"><i class="fas fa-paint-brush"></i> Beauty</a></li>
                        <li><a href="#" onclick="filterProducts('office')"><i class="fas fa-briefcase"></i> Office</a></li>
                        <li><a href="#" onclick="filterProducts('travel')"><i class="fas fa-suitcase"></i> Travel</a></li>
                        <li><a href="#" onclick="showAllCategories()"><i class="fas fa-th-large"></i> View All Categories</a></li>
                    </ul>
                </div>
                
                <!-- Enhanced Hero Slider -->
                <div class="hero-main">
                    <div class="hero-slider">
                        <div class="hero-slide active" style="background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')">
                            <div class="hero-slide-content">
                                <h2>Up to 60% Off on Premium Electronics</h2>
                                <p>Latest gadgets with free UAE delivery and 2-year warranty. Limited time offer!</p>
                                <a href="#deals" class="btn btn-accent" onclick="showMainContent(event)">
                                    <i class="fas fa-bolt"></i> Shop Now
                                </a>
                            </div>
                        </div>
                        <div class="hero-slide" style="background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1556656793-08538906a9f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')">
                            <div class="hero-slide-content">
                                <h2>Flash Sale: 24 Hours Only</h2>
                                <p>Exclusive deals on top brands. Don't miss out on these amazing offers!</p>
                                <a href="#deals" class="btn btn-accent" onclick="showMainContent(event)">
                                    <i class="fas fa-clock"></i> Shop Flash Sale
                                </a>
                            </div>
                        </div>
                        <div class="hero-slide" style="background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1441986300917-64674bd600d8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')">
                            <div class="hero-slide-content">
                                <h2>Free Delivery Across UAE</h2>
                                <p>Enjoy free shipping on all orders over AED 50. Fast 2-3 day delivery!</p>
                                <a href="#categories" class="btn btn-accent" onclick="showMainContent(event)">
                                    <i class="fas fa-truck"></i> Start Shopping
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="hero-slide-indicators">
                        <div class="hero-slide-indicator active" onclick="goToSlide(0)"></div>
                        <div class="hero-slide-indicator" onclick="goToSlide(1)"></div>
                        <div class="hero-slide-indicator" onclick="goToSlide(2)"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Flash Sale Banner -->
        <div class="flash-sale-banner">
            <div class="flash-sale-content">
                <div class="flash-sale-text">
                    <h2> FLASH SALE: 24 HOURS ONLY!</h2>
                    <p>Up to 70% off on selected items. Limited stock available. Don't miss out on these incredible deals!</p>
                    <div class="countdown">
                        <div class="countdown-item">
                            <span class="countdown-value" id="flashHours">23</span>
                            <span class="countdown-label">Hours</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-value" id="flashMinutes">59</span>
                            <span class="countdown-label">Minutes</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-value" id="flashSeconds">59</span>
                            <span class="countdown-label">Seconds</span>
                        </div>
                    </div>
                </div>
                <a href="#deals" class="btn btn-accent" onclick="showMainContent(event)" style="min-width: 240px; padding: 22px; font-size: 1.2rem;">
                    <i class="fas fa-bolt"></i> Shop Flash Sale
                </a>
            </div>
        </div>

        <!-- Popular Products -->
        <div class="home-section" id="popular">
            <div class="section-header-row">
                <h2><i class="fas fa-fire"></i> Popular Products</h2>
                <a href="#products" class="view-more-btn" onclick="showMainContent(event)">
                    View More <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            
            <div class="product-slider">
                <div class="slider-nav prev" onclick="slideLeft('popularSlider')">
                    <i class="fas fa-chevron-left"></i>
                </div>
                <div class="product-slider-container" id="popularSlider">
                    <!-- Popular products will be loaded here -->
                </div>
                <div class="slider-nav next" onclick="slideRight('popularSlider')">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
        </div>

        <!-- Two Column Layout: Deals + Categories -->
        <div class="two-column-grid">
            <!-- Today's Deals -->
            <div class="deals-section" id="deals">
                <div class="deals-header">
                    <h2><i class="fas fa-tags"></i> Today's Best Deals</h2>
                </div>
                
                <div class="deals-grid">
                    <div class="deal-card">
                        <h3>Electronics Mega Sale</h3>
                        <p>Up to 50% off on smartphones, laptops, and tablets. Limited time offer!</p>
                        <a href="#" class="btn btn-accent" onclick="filterProducts('electronics'); showMainContent(event)">
                            Shop Now
                        </a>
                    </div>
                    <div class="deal-card">
                        <h3>Gaming Bonanza</h3>
                        <p>Save 35% on consoles, accessories, and games. Best deals in UAE!</p>
                        <a href="#" class="btn btn-accent" onclick="filterProducts('gaming'); showMainContent(event)">
                            Shop Now
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Quick Categories -->
            <div class="home-section">
                <div class="section-header-row">
                    <h2><i class="fas fa-th-large"></i> Shop by Category</h2>
                    <a href="#" class="view-more-btn" onclick="showAllCategories()">
                        Browse All <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
                <div class="featured-categories">
                    <div class="featured-category" onclick="filterProducts('electronics')">
                        <div class="featured-category-icon"><i class="fas fa-laptop"></i></div>
                        <div class="featured-category-title">Electronics</div>
                    </div>
                    <div class="featured-category" onclick="filterProducts('gaming')">
                        <div class="featured-category-icon"><i class="fas fa-gamepad"></i></div>
                        <div class="featured-category-title">Gaming</div>
                    </div>
                    <div class="featured-category" onclick="filterProducts('home')">
                        <div class="featured-category-icon"><i class="fas fa-home"></i></div>
                        <div class="featured-category-title">Home</div>
                    </div>
                    <div class="featured-category" onclick="filterProducts('fashion')">
                        <div class="featured-category-icon"><i class="fas fa-tshirt"></i></div>
                        <div class="featured-category-title">Fashion</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Browse History -->
        <div class="home-section" id="history">
            <div class="section-header-row">
                <h2><i class="fas fa-history"></i> Based on Your History</h2>
                <a href="#" class="view-more-btn" onclick="loadMoreHistory()">
                    See More <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            
            <div class="browse-history" id="historyGrid">
                <!-- Browse history will be loaded here -->
            </div>
        </div>

        <!-- Ad Banner -->
        <div class="ad-banner" onclick="showMainContent()">
            <img src="banner.png" alt="Special Offer Banner">
            <div class="banner-overlay">
                <div class="banner-content">
                    <h1>Summer Sale Up to 80% Off</h1>
                    <p>Don't miss out on our biggest sale of the season. Limited time offers on premium products with free UAE delivery.</p>
                    <a href="#deals" class="btn btn-accent" onclick="showMainContent(event)">
                        <i class="fas fa-shopping-bag"></i> Shop Now
                    </a>
                </div>
            </div>
        </div>

        <!-- Trending Now -->
        <div class="home-section" id="trending">
            <div class="section-header-row">
                <h2><i class="fas fa-chart-line"></i> Trending Now</h2>
                <a href="#products" class="view-more-btn" onclick="showMainContent(event)">
                    View More <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            
            <div class="product-slider">
                <div class="slider-nav prev" onclick="slideLeft('trendingSlider')">
                    <i class="fas fa-chevron-left"></i>
                </div>
                <div class="product-slider-container" id="trendingSlider">
                    <!-- Trending products will be loaded here -->
                </div>
                <div class="slider-nav next" onclick="slideRight('trendingSlider')">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
        </div>

        <!-- More Deals -->
        <div class="home-section">
            <div class="section-header-row">
                <h2><i class="fas fa-gem"></i> More Great Deals</h2>
                <a href="#products" class="view-more-btn" onclick="showMainContent(event)">
                    View All <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            <div class="small-products-grid" id="moreDealsGrid">
                <!-- More deals will be loaded here -->
            </div>
        </div>

        <!-- Products Section -->
        <section class="section" id="products">
            <div class="section-header">
                <h2>Featured Products</h2>
                <p>Discover our handpicked selection of premium products with the best prices in UAE</p>
            </div>
            
            <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded here -->
            </div>
        </section>

        <!-- Checkout Section -->
        <section class="checkout-section" id="checkout">
            <div class="checkout-content">
                <h2>Ready to Checkout?</h2>
                <p>Secure your premium products with our 256-bit encrypted checkout process. Fast delivery guaranteed.</p>
                <button class="btn btn-checkout" onclick="redirectToCheckout()">
                    <i class="fas fa-lock"></i> Proceed to Secure Checkout
                </button>
                <p style="margin-top: 30px; font-size: 1rem; color: var(--text-light);">
                    <i class="fas fa-shield-alt"></i> 100% Secure Payment  30-Day Returns  24/7 Support
                </p>
            </div>
        </section>

        <!-- Enhanced Features Section -->
        <section class="features-section" id="features">
            <div class="section-header" style="position: relative; z-index: 2;">
                <h2 style="color: white; -webkit-text-fill-color: white;">Why Shop With HIK Store UAE</h2>
                <p style="color: rgba(255,255,255,0.95);">Experience premium shopping with unmatched benefits and services</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-shipping-fast"></i></div>
                    <h3>Ultra-Fast UAE Delivery</h3>
                    <p>2-3 business days across all Emirates with real-time GPS tracking, delivery notifications, and flexible time slots</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-certificate"></i></div>
                    <h3>Premium Authentic Products</h3>
                    <p>100% genuine products with full manufacturer warranty, quality certification, and authenticity guarantee</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-lock"></i></div>
                    <h3>Bank-Level Security</h3>
                    <p>256-bit SSL encryption, secure payment gateways, and advanced fraud protection for worry-free shopping</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-handshake"></i></div>
                    <h3>Hassle-Free Returns</h3>
                    <p>30-day easy returns with free doorstep pickup, instant refunds, and no questions asked policy</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-headset"></i></div>
                    <h3>24/7 Premium Support</h3>
                    <p>Dedicated VIP customer support team available round the clock via chat, phone, and email</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-crown"></i></div>
                    <h3>Elite Rewards Program</h3>
                    <p>Earn HIK Points on every purchase, unlock VIP tiers, and redeem for exclusive discounts and gifts</p>
                </div>
            </div>
        </section>

        <!-- Enhanced Newsletter -->
        <section class="newsletter-section" id="newsletter">
            <div class="newsletter-content">
                <h2 style="color: white; -webkit-text-fill-color: white;">Join the HIK Elite Community</h2>
                <p style="color: rgba(255,255,255,0.95); font-size: 1.3rem; line-height: 1.7; margin-bottom: 40px;">
                    Subscribe for exclusive VIP access to limited edition products, members-only sales, and personalized offers delivered directly to you
                </p>
                
                <div class="newsletter-form">
                    <input type="email" class="newsletter-input" placeholder="Enter your email address" id="newsletterEmail">
                    <button class="btn btn-accent" onclick="subscribeNewsletter()" style="min-width: 200px; padding: 22px; font-size: 1.2rem;">
                        <i class="fas fa-paper-plane"></i> Subscribe Now
                    </button>
                </div>
                
                <p class="newsletter-note">
                    <i class="fas fa-shield-alt"></i> By subscribing, you agree to our Privacy Policy and consent to receive premium updates, exclusive promotions, and VIP offers.
                </p>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <h3>HIK Store UAE</h3>
                <p>Your trusted partner for premium products with exceptional service and fast delivery across the UAE. Experience shopping redefined.</p>
                <div class="payment-icons">
                    <div class="payment-icon"><i class="fab fa-cc-visa"></i></div>
                    <div class="payment-icon"><i class="fab fa-cc-mastercard"></i></div>
                    <div class="payment-icon"><i class="fab fa-cc-paypal"></i></div>
                    <div class="payment-icon"><i class="fab fa-cc-apple-pay"></i></div>
                    <div class="payment-icon"><i class="fab fa-cc-amazon-pay"></i></div>
                </div>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="#popular" onclick="showMainContent(event)"><i class="fas fa-chevron-right"></i> Popular Products</a></li>
                    <li><a href="#categories" onclick="showMainContent(event)"><i class="fas fa-chevron-right"></i> Shop Categories</a></li>
                    <li><a href="#deals" onclick="showMainContent(event)"><i class="fas fa-chevron-right"></i> Today's Deals</a></li>
                    <li><a href="#" onclick="showProfileModal(event)"><i class="fas fa-chevron-right"></i> My Account</a></li>
                    <li><a href="#checkout" onclick="showMainContent(event)"><i class="fas fa-chevron-right"></i> Secure Checkout</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Customer Service</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="showHelpModal()"><i class="fas fa-chevron-right"></i> Help Center</a></li>
                    <li><a href="#" onclick="showHelpModal()"><i class="fas fa-chevron-right"></i> Shipping Policy</a></li>
                    <li><a href="#" onclick="showHelpModal()"><i class="fas fa-chevron-right"></i> Returns & Refunds</a></li>
                    <li><a href="#" onclick="showHelpModal()"><i class="fas fa-chevron-right"></i> Terms of Service</a></li>
                    <li><a href="#" onclick="showHelpModal()"><i class="fas fa-chevron-right"></i> Privacy Policy</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact Us</h3>
                <ul class="footer-links">
                    <li><a href="tel:+971501234567"><i class="fas fa-phone"></i> +971 50 123 4567</a></li>
                    <li><a href="mailto:support@hikstore.ae"><i class="fas fa-envelope"></i> support@hikstore.ae</a></li>
                    <li><a href="#"><i class="fas fa-map-marker-alt"></i> Dubai Marina, Dubai, UAE</a></li>
                    <li><a href="#"><i class="fas fa-clock"></i> 24/7 Customer Support</a></li>
                </ul>
                <div style="margin-top: 40px; display: flex; gap: 25px;">
                    <a href="#" style="color: rgba(255,255,255,0.8); font-size: 28px; transition: var(--transition);" onmouseover="this.style.color='#1877F2'" onmouseout="this.style.color='rgba(255,255,255,0.8)'"><i class="fab fa-facebook"></i></a>
                    <a href="#" style="color: rgba(255,255,255,0.8); font-size: 28px; transition: var(--transition);" onmouseover="this.style.color='#E4405F'" onmouseout="this.style.color='rgba(255,255,255,0.8)'"><i class="fab fa-instagram"></i></a>
                    <a href="#" style="color: rgba(255,255,255,0.8); font-size: 28px; transition: var(--transition);" onmouseover="this.style.color='#1DA1F2'" onmouseout="this.style.color='rgba(255,255,255,0.8)'"><i class="fab fa-twitter"></i></a>
                    <a href="#" style="color: rgba(255,255,255,0.8); font-size: 28px; transition: var(--transition);" onmouseover="this.style.color='#0077B5'" onmouseout="this.style.color='rgba(255,255,255,0.8)'"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 HIK Store UAE. All rights reserved. | Dubai, United Arab Emirates</p>
        </div>
    </footer>

    <!-- Widgets -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </div>
    <div class="whatsapp-widget" onclick="openWhatsApp()">
        <i class="fab fa-whatsapp"></i>
    </div>
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText"></span>
    </div>

    <!-- Modals -->
    <div class="modal" id="authModal"></div>
    <div class="modal" id="checkoutModal"></div>
    <div class="modal" id="helpModal"></div>
    <div class="modal product-detail-modal" id="productDetailModal"></div>
    <div class="modal profile-modal" id="profileModal"></div>

    <script>
        // ========== ENHANCED PRODUCT DATABASE ==========
        const products = [
            {
                id: 1,
                title: "Samsung Galaxy Tab A9+ 11\" Android Tablet",
                category: "electronics",
                price: 800,
                originalPrice: 820,
                image: "product_1.1.jpg",
                image2: "product_1.2.jpg",
                badge: "hot",
                rating: 4.3,
                reviews: 145,
                stock: 15,
                tags: ["Tablet", "Android", "Samsung", "Work & Study"],
                description: "Affordable 11-inch Android tablet with Dolby Atmos for work and study.",
                longDescription: "The Samsung Galaxy Tab A9+ features an 11-inch display with 90Hz refresh rate for smooth scrolling. Powered by Snapdragon 6 series processor with 4GB RAM and 64GB storage, it's perfect for multitasking between work and study. Dolby Atmos provides immersive audio experience.",
                specifications: {
                    "Display": "11-inch, 90Hz refresh rate",
                    "Processor": "Snapdragon 6 Series",
                    "Memory": "4GB RAM + 64GB storage",
                    "OS": "Android with One UI",
                    "Audio": "Dolby Atmos Quad Speakers",
                    "Connectivity": "Wi-Fi, Bluetooth 5.2",
                    "Battery": "7040mAh",
                    "Dimensions": "257.1 x 168.7 x 6.9mm"
                },
                features: [
                    "11-inch display with 90Hz refresh rate",
                    "Dolby Atmos quad speakers",
                    "Multitasking with split-screen",
                    "Kid-friendly content with Kids Mode",
                    "Expandable storage up to 1TB"
                ]
            },
            {
                id: 2,
                title: "Apple iPhone 15 Pro 256GB",
                category: "electronics",
                price: 4200,
                originalPrice: 4500,
                image: "product_2.1.jpg",
                image2: "product_2.2.jpg",
                badge: "new",
                rating: 4.8,
                reviews: 345,
                stock: 8,
                tags: ["iPhone", "Apple", "Smartphone", "Premium"],
                description: "Latest iPhone 15 Pro with A17 Pro chip and titanium design.",
                longDescription: "The iPhone 15 Pro features a durable titanium design, the powerful A17 Pro chip for next-level performance, and an advanced camera system with 48MP Main camera. Experience the Dynamic Island and all-day battery life."
            },
            {
                id: 3,
                title: "Sony WH-1000XM5 Wireless Headphones",
                category: "electronics",
                price: 1200,
                originalPrice: 1400,
                image: "product_3.1.jpg",
                image2: "product_3.2.jpg",
                badge: "best seller",
                rating: 4.7,
                reviews: 289,
                stock: 12,
                tags: ["Headphones", "Noise Cancelling", "Wireless", "Premium Audio"],
                description: "Industry-leading noise cancellation with premium sound quality.",
                longDescription: "Experience industry-leading noise cancellation with the Sony WH-1000XM5 headphones. Featuring Dual Noise Sensor technology, 30-hour battery life, and crystal clear hands-free calling."
            },
            {
                id: 4,
                title: "Dell XPS 13 Laptop",
                category: "electronics",
                price: 3200,
                originalPrice: 3500,
                image: "product_4.1.jpg",
                image2: "product_4.2.jpg",
                badge: "hot",
                rating: 4.6,
                reviews: 167,
                stock: 6,
                tags: ["Laptop", "Ultrabook", "Dell", "Premium"],
                description: "Ultra-portable laptop with InfinityEdge display.",
                longDescription: "The Dell XPS 13 features a stunning InfinityEdge display, powerful Intel Core processors, and premium aluminum construction. Perfect for professionals and students."
            },
            {
                id: 5,
                title: "PlayStation 5 Console",
                category: "gaming",
                price: 1800,
                originalPrice: 2000,
                image: "product_5.1.jpg",
                image2: "product_5.2.jpg",
                badge: "hot",
                rating: 4.9,
                reviews: 432,
                stock: 10,
                tags: ["Gaming Console", "PS5", "Sony", "Entertainment"],
                description: "Next-gen gaming console with ultra-high speed SSD.",
                longDescription: "The PlayStation 5 console delivers lightning-fast loading, haptic feedback, adaptive triggers, and 3D Audio. Experience next-generation gaming."
            },
            {
                id: 6,
                title: "Xbox Series X Console",
                category: "gaming",
                price: 1700,
                originalPrice: 1900,
                image: "product_6.1.jpg",
                image2: "product_6.2.jpg",
                badge: "best seller",
                rating: 4.8,
                reviews: 398,
                stock: 9,
                tags: ["Gaming Console", "Xbox", "Microsoft", "4K Gaming"],
                description: "Most powerful Xbox console with true 4K gaming.",
                longDescription: "Xbox Series X delivers true 4K gaming, up to 120 FPS, and 1TB of SSD storage. Experience next-gen performance and compatibility with thousands of games."
            },
            {
                id: 7,
                title: "Nintendo Switch OLED",
                category: "gaming",
                price: 1200,
                originalPrice: 1350,
                image: "product_7.1.jpg",
                image2: "product_7.2.jpg",
                badge: "trending",
                rating: 4.7,
                reviews: 267,
                stock: 15,
                tags: ["Gaming Console", "Nintendo", "Portable", "Family"],
                description: "Hybrid gaming console with vibrant OLED screen.",
                longDescription: "The Nintendo Switch OLED features a vibrant 7-inch OLED screen, enhanced audio, and 64GB of storage. Play at home on your TV or on the go."
            },
            {
                id: 8,
                title: "Dyson V15 Detect Vacuum Cleaner",
                category: "home",
                price: 2200,
                originalPrice: 2500,
                image: "product_8.1.jpg",
                image2: "product_8.2.jpg",
                badge: "new",
                rating: 4.8,
                reviews: 189,
                stock: 7,
                tags: ["Vacuum", "Smart Home", "Dyson", "Premium"],
                description: "Intelligent vacuum with laser dust detection.",
                longDescription: "The Dyson V15 Detect reveals hidden dust with a laser, captures microscopic particles with HEPA filtration, and automatically adjusts suction."
            },
            {
                id: 9,
                title: "KitchenAid Stand Mixer",
                category: "home",
                price: 1500,
                originalPrice: 1800,
                image: "product_9.1.jpg",
                image2: "product_9.2.jpg",
                badge: "best seller",
                rating: 4.9,
                reviews: 456,
                stock: 11,
                tags: ["Kitchen", "Mixer", "Premium", "Baking"],
                description: "Professional stand mixer with 10-speed settings.",
                longDescription: "The KitchenAid Stand Mixer features a powerful motor, 10-speed settings, and comes with multiple attachments for all your kitchen needs."
            },
            {
                id: 10,
                title: "Apple Watch Series 9",
                category: "electronics",
                price: 1600,
                originalPrice: 1800,
                image: "product_10.1.jpg",
                image2: "product_10.2.jpg",
                badge: "new",
                rating: 4.7,
                reviews: 321,
                stock: 14,
                tags: ["Smartwatch", "Apple", "Fitness", "Premium"],
                description: "Advanced smartwatch with health monitoring.",
                longDescription: "Apple Watch Series 9 features advanced health monitoring, fitness tracking, and seamless integration with your Apple devices."
            },
            {
                id: 11,
                title: "Samsung Galaxy Watch 6",
                category: "electronics",
                price: 900,
                originalPrice: 1100,
                image: "product_11.1.jpg",
                image2: "product_11.2.jpg",
                badge: "hot",
                rating: 4.6,
                reviews: 234,
                stock: 18,
                tags: ["Smartwatch", "Samsung", "Android", "Fitness"],
                description: "Advanced health tracking with sleep coaching.",
                longDescription: "Samsung Galaxy Watch 6 offers advanced health monitoring, sleep coaching, and comprehensive fitness tracking in a sleek design."
            },
            {
                id: 12,
                title: "Bose QuietComfort Earbuds II",
                category: "electronics",
                price: 1100,
                originalPrice: 1300,
                image: "product_12.1.jpg",
                image2: "product_12.2.jpg",
                badge: "best seller",
                rating: 4.7,
                reviews: 278,
                stock: 16,
                tags: ["Earbuds", "Noise Cancelling", "Bose", "Premium Audio"],
                description: "True wireless earbuds with noise cancellation.",
                longDescription: "Bose QuietComfort Earbuds II offer world-class noise cancellation, crystal clear calls, and immersive sound in a comfortable design."
            },
            {
                id: 13,
                title: "Nike Air Jordan 1 Retro",
                category: "fashion",
                price: 600,
                originalPrice: 750,
                image: "product_13.1.jpg",
                image2: "product_13.2.jpg",
                badge: "trending",
                rating: 4.9,
                reviews: 512,
                stock: 20,
                tags: ["Shoes", "Nike", "Jordan", "Limited Edition"],
                description: "Iconic basketball shoes in classic colors.",
                longDescription: "The Air Jordan 1 Retro brings back the classic design that started it all, featuring premium materials and timeless style."
            },
            {
                id: 14,
                title: "Adidas Ultraboost 22",
                category: "fashion",
                price: 550,
                originalPrice: 650,
                image: "product_14.1.jpg",
                image2: "product_14.2.jpg",
                badge: "hot",
                rating: 4.8,
                reviews: 389,
                stock: 25,
                tags: ["Shoes", "Adidas", "Running", "Comfort"],
                description: "Maximum energy return running shoes.",
                longDescription: "Adidas Ultraboost 22 offers maximum energy return, optimal comfort, and responsive cushioning for all-day wear."
            },
            {
                id: 15,
                title: "Rolex Submariner Date",
                category: "fashion",
                price: 35000,
                originalPrice: 38000,
                image: "product_15.1.jpg",
                image2: "product_15.2.jpg",
                badge: "luxury",
                rating: 5.0,
                reviews: 89,
                stock: 2,
                tags: ["Watch", "Luxury", "Rolex", "Premium"],
                description: "Iconic diving watch with date function.",
                longDescription: "The Rolex Submariner Date is an iconic diving watch known for its robustness, reliability, and timeless design."
            },
            {
                id: 16,
                title: "MacBook Pro 16-inch M3 Pro",
                category: "electronics",
                price: 8500,
                originalPrice: 9000,
                image: "product_16.1.jpg",
                image2: "product_16.2.jpg",
                badge: "new",
                rating: 4.9,
                reviews: 167,
                stock: 5,
                tags: ["Laptop", "Apple", "Professional", "Premium"],
                description: "Professional laptop with M3 Pro chip.",
                longDescription: "MacBook Pro 16-inch with M3 Pro chip delivers exceptional performance for professionals, with stunning Liquid Retina XDR display."
            },
            {
                id: 17,
                title: "Samsung 85\" QLED 4K TV",
                category: "electronics",
                price: 12000,
                originalPrice: 15000,
                image: "product_17.1.jpg",
                image2: "product_17.2.jpg",
                badge: "best seller",
                rating: 4.8,
                reviews: 234,
                stock: 4,
                tags: ["TV", "Samsung", "QLED", "Home Entertainment"],
                description: "Massive 85-inch QLED 4K smart TV.",
                longDescription: "Samsung 85-inch QLED 4K TV offers stunning picture quality, smart features, and immersive sound in a massive screen size."
            },
            {
                id: 18,
                title: "LG OLED 77\" 4K TV",
                category: "electronics",
                price: 14000,
                originalPrice: 16000,
                image: "product_18.1.jpg",
                image2: "product_18.2.jpg",
                badge: "premium",
                rating: 4.9,
                reviews: 189,
                stock: 3,
                tags: ["TV", "LG", "OLED", "Premium"],
                description: "Premium OLED TV with perfect blacks.",
                longDescription: "LG OLED 77-inch 4K TV delivers perfect blacks, infinite contrast, and stunning picture quality for the ultimate viewing experience."
            },
            {
                id: 19,
                title: "Canon EOS R5 Camera",
                category: "electronics",
                price: 11000,
                originalPrice: 13000,
                image: "product_19.1.jpg",
                image2: "product_19.2.jpg",
                badge: "professional",
                rating: 4.8,
                reviews: 156,
                stock: 6,
                tags: ["Camera", "Canon", "Professional", "Photography"],
                description: "Professional mirrorless camera with 8K video.",
                longDescription: "Canon EOS R5 offers 8K video recording, 45MP full-frame sensor, and advanced autofocus for professional photographers and videographers."
            },
            {
                id: 20,
                title: "Sony A7 IV Camera",
                category: "electronics",
                price: 9000,
                originalPrice: 11000,
                image: "product_20.1.jpg",
                image2: "product_20.2.jpg",
                badge: "best seller",
                rating: 4.7,
                reviews: 198,
                stock: 8,
                tags: ["Camera", "Sony", "Mirrorless", "Professional"],
                description: "Versatile full-frame mirrorless camera.",
                longDescription: "Sony A7 IV features 33MP full-frame sensor, 4K 60p video, and advanced autofocus for versatile shooting capabilities."
            },
            {
                id: 21,
                title: "DJI Mavic 3 Pro Drone",
                category: "electronics",
                price: 8000,
                originalPrice: 9500,
                image: "product_21.1.jpg",
                image2: "product_21.2.jpg",
                badge: "new",
                rating: 4.9,
                reviews: 134,
                stock: 7,
                tags: ["Drone", "DJI", "Camera Drone", "Professional"],
                description: "Professional camera drone with triple camera.",
                longDescription: "DJI Mavic 3 Pro features triple camera system, 43-minute flight time, and advanced safety features for professional aerial photography."
            },
            {
                id: 22,
                title: "Apple AirPods Max",
                category: "electronics",
                price: 2200,
                originalPrice: 2500,
                image: "product_22.1.jpg",
                image2: "product_22.2.jpg",
                badge: "premium",
                rating: 4.7,
                reviews: 289,
                stock: 12,
                tags: ["Headphones", "Apple", "Premium", "Noise Cancelling"],
                description: "Premium over-ear headphones with spatial audio.",
                longDescription: "Apple AirPods Max combine high-fidelity audio with Active Noise Cancellation and spatial audio for an immersive listening experience."
            },
            {
                id: 23,
                title: "Sonos Era 300 Speaker",
                category: "electronics",
                price: 2500,
                originalPrice: 2800,
                image: "product_23.1.jpg",
                image2: "product_23.2.jpg",
                badge: "new",
                rating: 4.8,
                reviews: 167,
                stock: 9,
                tags: ["Speaker", "Smart Home", "Sonos", "Premium Audio"],
                description: "Immersive spatial audio speaker.",
                longDescription: "Sonos Era 300 delivers immersive spatial audio with Dolby Atmos support, voice control, and seamless multi-room audio."
            },
            {
                id: 24,
                title: "Microsoft Surface Pro 9",
                category: "electronics",
                price: 4500,
                originalPrice: 5000,
                image: "product_24.1.jpg",
                image2: "product_24.2.jpg",
                badge: "versatile",
                rating: 4.6,
                reviews: 189,
                stock: 11,
                tags: ["Tablet", "Laptop", "Microsoft", "2-in-1"],
                description: "Versatile 2-in-1 tablet and laptop.",
                longDescription: "Microsoft Surface Pro 9 combines the power of a laptop with the flexibility of a tablet, featuring Intel Core processors and PixelSense display."
            },
            {
                id: 25,
                title: "iPad Pro 12.9-inch M2",
                category: "electronics",
                price: 4200,
                originalPrice: 4800,
                image: "product_25.1.jpg",
                image2: "product_25.2.jpg",
                badge: "pro",
                rating: 4.8,
                reviews: 256,
                stock: 13,
                tags: ["Tablet", "Apple", "Professional", "Creative"],
                description: "Professional tablet with M2 chip.",
                longDescription: "iPad Pro 12.9-inch with M2 chip offers incredible performance, Liquid Retina XDR display, and Pro-level features for creative professionals."
            },
            {
                id: 26,
                title: "Amazon Echo Show 15",
                category: "home",
                price: 1200,
                originalPrice: 1500,
                image: "product_26.1.jpg",
                image2: "product_26.2.jpg",
                badge: "smart home",
                rating: 4.5,
                reviews: 234,
                stock: 18,
                tags: ["Smart Home", "Amazon", "Display", "Alexa"],
                description: "15-inch smart display for your home.",
                longDescription: "Amazon Echo Show 15 is a 15-inch smart display that helps organize your family with customizable widgets, video calling, and Alexa."
            },
            {
                id: 27,
                title: "Google Pixel 8 Pro",
                category: "electronics",
                price: 3500,
                originalPrice: 4000,
                image: "product_27.1.jpg",
                image2: "product_27.2.jpg",
                badge: "new",
                rating: 4.7,
                reviews: 189,
                stock: 14,
                tags: ["Smartphone", "Google", "Android", "Camera"],
                description: "Advanced Android smartphone with AI features.",
                longDescription: "Google Pixel 8 Pro features advanced AI capabilities, professional-grade camera system, and pure Android experience."
            },
            {
                id: 28,
                title: "Samsung Galaxy Z Fold 5",
                category: "electronics",
                price: 6000,
                originalPrice: 6500,
                image: "product_28.1.jpg",
                image2: "product_28.2.jpg",
                badge: "innovative",
                rating: 4.6,
                reviews: 156,
                stock: 8,
                tags: ["Smartphone", "Foldable", "Samsung", "Premium"],
                description: "Foldable smartphone with large flexible display.",
                longDescription: "Samsung Galaxy Z Fold 5 combines smartphone and tablet in one device with a large foldable display and premium features."
            },
            {
                id: 29,
                title: "Bose Soundbar 900",
                category: "electronics",
                price: 2800,
                originalPrice: 3200,
                image: "product_29.1.jpg",
                image2: "product_29.2.jpg",
                badge: "premium",
                rating: 4.8,
                reviews: 178,
                stock: 10,
                tags: ["Soundbar", "Home Theater", "Bose", "Premium Audio"],
                description: "Premium soundbar with Dolby Atmos.",
                longDescription: "Bose Soundbar 900 delivers immersive Dolby Atmos sound, voice control, and wireless connectivity for your home theater setup."
            },
            {
                id: 30,
                title: "Louis Vuitton Neverfull MM Bag",
                category: "fashion",
                price: 8500,
                originalPrice: 9000,
                image: "product_30.1.jpg",
                image2: "product_30.2.jpg",
                badge: "luxury",
                rating: 4.9,
                reviews: 89,
                stock: 5,
                tags: ["Bag", "Luxury", "Louis Vuitton", "Fashion"],
                description: "Iconic luxury tote bag.",
                longDescription: "The Louis Vuitton Neverfull MM is an iconic tote bag known for its spacious interior and timeless design."
            }
        ];

        // ========== ENHANCED DATABASE CLASS ==========
        class Database {
            constructor() {
                this.users = JSON.parse(localStorage.getItem('hik_users')) || [];
                this.cart = JSON.parse(localStorage.getItem('hik_cart')) || [];
                this.wishlist = JSON.parse(localStorage.getItem('hik_wishlist')) || [];
                this.currentUser = JSON.parse(localStorage.getItem('hik_currentUser')) || null;
                this.orders = JSON.parse(localStorage.getItem('hik_orders')) || [];
                this.comparison = JSON.parse(localStorage.getItem('hik_comparison')) || [];
                this.recentViews = JSON.parse(localStorage.getItem('hik_recentViews')) || [];
                this.init();
            }
            
            init() {
                if (this.users.length === 0) {
                    this.users.push({
                        id: 1,
                        name: "Demo User",
                        email: "demo@hikstore.ae",
                        password: "demo123",
                        points: 1500,
                        phone: "+971501234567",
                        address: "Dubai Marina, Dubai",
                        city: "Dubai",
                        emirate: "Dubai",
                        postalCode: "00000",
                        country: "UAE",
                        role: "user",
                        createdAt: new Date().toISOString(),
                        orders: [1, 2],
                        wishlist: [1, 3, 5, 10, 15],
                        marketingEmails: true,
                        smsNotifications: true
                    });
                }
                
                if (this.orders.length === 0) {
                    this.orders.push(
                        {
                            id: 1,
                            userId: 1,
                            items: [{
                                id: 1,
                                title: "Samsung Galaxy Tab A9+ 11\" Android Tablet",
                                price: 800,
                                quantity: 1,
                                image: "product_1.1.jpg"
                            }],
                            total: 800,
                            status: "delivered",
                            date: "2024-01-15",
                            tracking: "DX123456789AE",
                            address: "Dubai Marina, Dubai, UAE"
                        },
                        {
                            id: 2,
                            userId: 1,
                            items: [{
                                id: 5,
                                title: "PlayStation 5 Console",
                                price: 1800,
                                quantity: 1,
                                image: "product_5.1.jpg"
                            }],
                            total: 1800,
                            status: "shipped",
                            date: "2024-02-10",
                            tracking: "DX987654321AE",
                            address: "Dubai Marina, Dubai, UAE"
                        }
                    );
                }
                this.save();
            }
            
            save() {
                localStorage.setItem('hik_users', JSON.stringify(this.users));
                localStorage.setItem('hik_cart', JSON.stringify(this.cart));
                localStorage.setItem('hik_wishlist', JSON.stringify(this.wishlist));
                localStorage.setItem('hik_currentUser', JSON.stringify(this.currentUser));
                localStorage.setItem('hik_orders', JSON.stringify(this.orders));
                localStorage.setItem('hik_comparison', JSON.stringify(this.comparison));
                localStorage.setItem('hik_recentViews', JSON.stringify(this.recentViews));
            }
            
            login(email, password) {
                const user = this.users.find(u => u.email === email && u.password === password);
                if (user) {
                    this.currentUser = user;
                    this.save();
                    return user;
                }
                return null;
            }
            
            register(name, email, password) {
                if (this.users.some(u => u.email === email)) {
                    return { error: "Email already exists" };
                }
                
                const newUser = {
                    id: this.users.length + 1,
                    name,
                    email,
                    password,
                    points: 200,
                    phone: "",
                    address: "",
                    city: "",
                    emirate: "",
                    postalCode: "",
                    country: "UAE",
                    role: "user",
                    createdAt: new Date().toISOString(),
                    orders: [],
                    wishlist: [],
                    marketingEmails: true,
                    smsNotifications: true
                };
                
                this.users.push(newUser);
                this.currentUser = newUser;
                this.save();
                return newUser;
            }
            
            addToCart(productId, quantity = 1) {
                const product = products.find(p => p.id === productId);
                if (!product) return;
                
                const existingItem = this.cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity += quantity;
                } else {
                    this.cart.push({
                        ...product,
                        quantity,
                        addedAt: new Date().toISOString()
                    });
                }
                this.save();
            }
            
            removeFromCart(productId) {
                this.cart = this.cart.filter(item => item.id !== productId);
                this.save();
            }
            
            updateCartQuantity(productId, quantity) {
                const item = this.cart.find(item => item.id === productId);
                if (item) {
                    if (quantity <= 0) {
                        this.removeFromCart(productId);
                    } else {
                        item.quantity = quantity;
                        this.save();
                    }
                }
            }
            
            getCartTotal() {
                return this.cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            }
            
            addToWishlist(productId) {
                const product = products.find(p => p.id === productId);
                if (product && !this.wishlist.some(p => p.id === productId)) {
                    this.wishlist.push(product);
                    this.save();
                    return true;
                }
                return false;
            }
            
            removeFromWishlist(productId) {
                this.wishlist = this.wishlist.filter(p => p.id !== productId);
                this.save();
            }
            
            getUserOrders() {
                if (!this.currentUser) return [];
                return this.orders.filter(order => order.userId === this.currentUser.id);
            }
            
            createOrder() {
                if (this.cart.length === 0 || !this.currentUser) return null;
                
                const order = {
                    id: this.orders.length + 1,
                    userId: this.currentUser.id,
                    items: this.cart.map(item => ({
                        id: item.id,
                        title: item.title,
                        price: item.price,
                        quantity: item.quantity,
                        image: item.image
                    })),
                    total: this.getCartTotal(),
                    status: "processing",
                    date: new Date().toISOString(),
                    tracking: "DX" + Math.random().toString(36).substr(2, 9).toUpperCase() + "AE",
                    address: this.currentUser.address
                };
                
                this.currentUser.points += Math.floor(order.total / 5);
                this.orders.push(order);
                this.cart = [];
                this.save();
                
                return order;
            }
            
            updateUserProfile(data) {
                if (!this.currentUser) return;
                
                Object.assign(this.currentUser, data);
                this.save();
                return this.currentUser;
            }
            
            addToComparison(productId) {
                const product = products.find(p => p.id === productId);
                if (product && !this.comparison.some(p => p.id === productId) && this.comparison.length < 4) {
                    this.comparison.push(product);
                    this.save();
                    return true;
                }
                return false;
            }
            
            removeFromComparison(productId) {
                this.comparison = this.comparison.filter(p => p.id !== productId);
                this.save();
            }
            
            clearComparison() {
                this.comparison = [];
                this.save();
            }
            
            addRecentView(productId) {
                const product = products.find(p => p.id === productId);
                if (!product) return;
                
                this.recentViews = this.recentViews.filter(p => p.id !== productId);
                this.recentViews.unshift(product);
                
                if (this.recentViews.length > 10) {
                    this.recentViews = this.recentViews.slice(0, 10);
                }
                
                this.save();
            }
            
            getRecentViews() {
                return this.recentViews.slice(0, 6);
            }
            
            getPopularProducts() {
                return [...products]
                    .sort((a, b) => (b.rating * b.reviews) - (a.rating * a.reviews))
                    .slice(0, 10);
            }
            
            getTrendingProducts() {
                return [...products]
                    .sort((a, b) => {
                        const aScore = a.rating * 200 + (a.badge === 'hot' ? 100 : a.badge === 'new' ? 80 : a.badge === 'best seller' ? 60 : 0);
                        const bScore = b.rating * 200 + (b.badge === 'hot' ? 100 : b.badge === 'new' ? 80 : b.badge === 'best seller' ? 60 : 0);
                        return bScore - aScore;
                    })
                    .slice(0, 10);
            }
            
            getMoreDeals() {
                return [...products]
                    .filter(p => p.price < 5000 && (p.originalPrice - p.price) / p.originalPrice > 0.1)
                    .sort((a, b) => (b.originalPrice - b.price) - (a.originalPrice - a.price))
                    .slice(0, 8);
            }
            
            getSimilarProducts(category, currentProductId) {
                return products
                    .filter(p => p.category === category && p.id !== currentProductId)
                    .sort(() => Math.random() - 0.5)
                    .slice(0, 5);
            }
        }

        // ========== GLOBAL VARIABLES ==========
        const db = new Database();
        let currentFilter = 'all';
        let currentProductId = null;
        let currentSlide = 0;
        let slideInterval;
        let historyPage = 1;
        let currentProfileTab = 'overview';

        // ========== UTILITY FUNCTIONS ==========
        function showNotification(message, isError = false) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            if (isError) {
                notification.style.borderLeftColor = 'var(--error)';
                notification.querySelector('i').className = 'fas fa-exclamation-circle';
                notification.querySelector('i').style.color = 'var(--error)';
            } else {
                notification.style.borderLeftColor = 'var(--success)';
                notification.querySelector('i').className = 'fas fa-check-circle';
                notification.querySelector('i').style.color = 'var(--success)';
            }
            
            notificationText.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        function formatPrice(price) {
            return new Intl.NumberFormat('en-AE', {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(price);
        }

        function getStockIndicator(stock) {
            if (stock > 10) return { class: 'in-stock', text: 'In Stock' };
            if (stock > 0) return { class: 'low-stock', text: 'Low Stock' };
            return { class: 'out-of-stock', text: 'Out of Stock' };
        }

        // ========== CHECKOUT FUNCTIONALITY ==========
        function redirectToCheckout() {
            if (db.cart.length === 0) {
                showNotification('Your cart is empty. Add some products first!', true);
                return;
            }
            
            if (!db.currentUser) {
                showAuthModal();
                showNotification('Please login to proceed to checkout', true);
                return;
            }
            
            // Save cart data to localStorage for checkout page
            localStorage.setItem('checkout_cart', JSON.stringify(db.cart));
            localStorage.setItem('checkout_total', db.getCartTotal().toString());
            localStorage.setItem('checkout_user', JSON.stringify(db.currentUser));
            
            // Show loading animation
            showNotification('Redirecting to secure checkout...');
            
            // Redirect to checkout page
            setTimeout(() => {
                window.location.href = 'https://gamingcuber-12.github.io/HIK-Store/checkout.html';
            }, 1000);
        }

        function showCheckoutModal(e) {
            if (e) e.preventDefault();
            
            if (db.cart.length === 0) {
                showNotification('Your cart is empty. Add some products first!', true);
                return;
            }
            
            const modal = document.getElementById('checkoutModal');
            
            modal.innerHTML = `
                <div class="modal-content">
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                    <h2 style="margin-bottom: 30px; color: var(--text); text-align: center;"><i class="fas fa-shopping-cart"></i> Checkout Summary</h2>
                    
                    <div style="margin-bottom: 30px;">
                        <h3 style="margin-bottom: 20px; color: var(--text);">Order Summary</h3>
                        <div style="background: var(--bg-lighter); border-radius: var(--radius); padding: 20px; margin-bottom: 20px;">
                            ${db.cart.map(item => `
                                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid var(--border-light);">
                                    <img src="${item.image}" alt="${item.title}" style="width: 60px; height: 60px; object-fit: contain; border-radius: var(--radius); background: white; padding: 5px;">
                                    <div style="flex: 1;">
                                        <div style="font-weight: 600; font-size: 0.9rem; margin-bottom: 5px;">${item.title.substring(0, 40)}${item.title.length > 40 ? '...' : ''}</div>
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <span style="color: var(--text-light); font-size: 0.85rem;">Qty: ${item.quantity}</span>
                                            <span style="color: var(--primary); font-weight: 700;">AED ${formatPrice(item.price * item.quantity)}</span>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; font-size: 1.1rem;">
                            <span style="font-weight: 600;">Subtotal:</span>
                            <span style="font-weight: 700;">AED ${formatPrice(db.getCartTotal())}</span>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; font-size: 1.1rem;">
                            <span style="font-weight: 600;">Shipping:</span>
                            <span style="color: var(--success); font-weight: 700;">FREE</span>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: center; padding-top: 20px; border-top: 2px solid var(--border); font-size: 1.3rem;">
                            <span style="font-weight: 800;">Total:</span>
                            <span style="color: var(--primary); font-weight: 900;">AED ${formatPrice(db.getCartTotal())}</span>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <h3 style="margin-bottom: 15px; color: var(--text);">Shipping Address</h3>
                        ${db.currentUser ? `
                            <div style="background: var(--bg-lighter); border-radius: var(--radius); padding: 20px; font-size: 0.95rem;">
                                <div style="margin-bottom: 10px;"><strong>${db.currentUser.name}</strong></div>
                                <div style="margin-bottom: 10px; color: var(--text-light);">${db.currentUser.address || 'No address saved'}</div>
                                <div style="color: var(--text-light);">${db.currentUser.phone || 'No phone saved'}</div>
                            </div>
                        ` : `
                            <div style="text-align: center; padding: 20px; color: var(--text-light);">
                                <i class="fas fa-exclamation-circle" style="font-size: 48px; margin-bottom: 15px; color: var(--warning);"></i>
                                <p>Please login to see your shipping address</p>
                            </div>
                        `}
                    </div>
                    
                    <div style="display: flex; gap: 15px;">
                        <button class="btn btn-secondary" onclick="closeModal()" style="flex: 1;">
                            <i class="fas fa-shopping-cart"></i> Continue Shopping
                        </button>
                        <button class="btn btn-checkout" onclick="redirectToCheckout()" style="flex: 2;">
                            <i class="fas fa-lock"></i> Proceed to Secure Checkout
                        </button>
                    </div>
                    
                    <p style="text-align: center; margin-top: 25px; color: var(--text-light); font-size: 0.9rem;">
                        <i class="fas fa-shield-alt"></i> Your payment information is secured with 256-bit SSL encryption
                    </p>
                </div>
            `;
            
            modal.classList.add('active');
        }

        // ========== PAGE NAVIGATION ==========
        function showMainContent(e) {
            if (e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            document.getElementById('mobileMenu').classList.remove('active');
            document.getElementById('mobileMenuBtn').classList.remove('active');
            
            updateCartUI();
            renderHomePage();
            
            if (window.location.hash && window.location.hash !== '#') {
                setTimeout(() => {
                    const target = document.querySelector(window.location.hash);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                }, 100);
            }
        }

        // ========== ENHANCED AMAZON-STYLE HOMEPAGE ==========
        function renderHomePage() {
            renderHeroSlider();
            renderPopularProducts();
            renderTrendingProducts();
            renderBrowseHistory();
            renderMoreDeals();
            updateFlashSaleCountdown();
        }

        function renderHeroSlider() {
            const slides = document.querySelectorAll('.hero-slide');
            const indicators = document.querySelectorAll('.hero-slide-indicator');
            
            slides.forEach(slide => slide.classList.remove('active'));
            indicators.forEach(indicator => indicator.classList.remove('active'));
            
            slides[currentSlide].classList.add('active');
            indicators[currentSlide].classList.add('active');
        }

        function goToSlide(slideIndex) {
            currentSlide = slideIndex;
            renderHeroSlider();
        }

        function nextSlide() {
            const slides = document.querySelectorAll('.hero-slide');
            currentSlide = (currentSlide + 1) % slides.length;
            renderHeroSlider();
        }

        function prevSlide() {
            const slides = document.querySelectorAll('.hero-slide');
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            renderHeroSlider();
        }

        function startSlider() {
            if (slideInterval) clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, 6000);
        }

        function stopSlider() {
            if (slideInterval) clearInterval(slideInterval);
        }

        function renderPopularProducts() {
            const popularProducts = db.getPopularProducts();
            const sliderContainer = document.getElementById('popularSlider');
            
            sliderContainer.innerHTML = popularProducts.map(product => {
                const discountPercent = product.originalPrice > product.price ? 
                    Math.round((1 - product.price / product.originalPrice) * 100) : 0;
                
                return `
                    <div class="product-slider-card">
                        <div class="product-card" onclick="showProductDetail(${product.id})">
                            ${product.badge ? `<div class="product-card-badge">${product.badge.toUpperCase()}</div>` : ''}
                            <div class="product-image-container">
                                <img src="${product.image}" alt="${product.title}" class="product-card-image">
                            </div>
                            <div class="product-content">
                                <h3 class="product-card-title">${product.title}</h3>
                                <div class="product-price">
                                    <span class="current-price">AED ${formatPrice(product.price)}</span>
                                    ${product.originalPrice > product.price ? `
                                        <span class="original-price">AED ${formatPrice(product.originalPrice)}</span>
                                        <span class="discount">${discountPercent}% OFF</span>
                                    ` : ''}
                                </div>
                                <div class="product-card-actions">
                                    <button class="add-to-cart" onclick="addToCart(${product.id}, event)">
                                        <i class="fas fa-shopping-cart"></i> Add to Cart
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            updateSliderNav('popularSlider');
        }

        function renderTrendingProducts() {
            const trendingProducts = db.getTrendingProducts();
            const sliderContainer = document.getElementById('trendingSlider');
            
            sliderContainer.innerHTML = trendingProducts.map(product => {
                const discountPercent = product.originalPrice > product.price ? 
                    Math.round((1 - product.price / product.originalPrice) * 100) : 0;
                
                return `
                    <div class="product-slider-card">
                        <div class="product-card" onclick="showProductDetail(${product.id})">
                            ${product.badge ? `<div class="product-card-badge">${product.badge.toUpperCase()}</div>` : ''}
                            <div class="product-image-container">
                                <img src="${product.image}" alt="${product.title}" class="product-card-image">
                            </div>
                            <div class="product-content">
                                <h3 class="product-card-title">${product.title}</h3>
                                <div class="product-price">
                                    <span class="current-price">AED ${formatPrice(product.price)}</span>
                                    ${product.originalPrice > product.price ? `
                                        <span class="original-price">AED ${formatPrice(product.originalPrice)}</span>
                                        <span class="discount">${discountPercent}% OFF</span>
                                    ` : ''}
                                </div>
                                <div class="product-card-actions">
                                    <button class="add-to-cart" onclick="addToCart(${product.id}, event)">
                                        <i class="fas fa-shopping-cart"></i> Add to Cart
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            updateSliderNav('trendingSlider');
        }

        function renderMoreDeals() {
            const moreDeals = db.getMoreDeals();
            const gridContainer = document.getElementById('moreDealsGrid');
            
            if (moreDeals.length === 0) return;
            
            gridContainer.innerHTML = moreDeals.map(product => {
                const discountPercent = product.originalPrice > product.price ? 
                    Math.round((1 - product.price / product.originalPrice) * 100) : 0;
                
                return `
                    <div class="small-product-card" onclick="showProductDetail(${product.id})">
                        <img src="${product.image}" alt="${product.title}">
                        <div class="small-product-title">${product.title.substring(0, 50)}${product.title.length > 50 ? '...' : ''}</div>
                        <div class="small-product-price">AED ${formatPrice(product.price)}</div>
                        ${discountPercent > 0 ? `<div style="color: var(--accent); font-size: 0.9rem; font-weight: 900; margin-top: 8px; background: rgba(255, 51, 102, 0.1); padding: 6px 12px; border-radius: var(--radius-sm);">${discountPercent}% OFF</div>` : ''}
                    </div>
                `;
            }).join('');
        }

        function slideLeft(sliderId) {
            const container = document.getElementById(sliderId);
            container.scrollBy({ left: -400, behavior: 'smooth' });
        }

        function slideRight(sliderId) {
            const container = document.getElementById(sliderId);
            container.scrollBy({ left: 400, behavior: 'smooth' });
        }

        function updateSliderNav(sliderId) {
            const container = document.getElementById(sliderId);
            const prevBtn = container.parentElement.querySelector('.prev');
            const nextBtn = container.parentElement.querySelector('.next');
            
            prevBtn.classList.remove('disabled');
            nextBtn.classList.remove('disabled');
            
            if (container.scrollLeft <= 10) {
                prevBtn.classList.add('disabled');
            }
            
            if (container.scrollLeft >= container.scrollWidth - container.clientWidth - 10) {
                nextBtn.classList.add('disabled');
            }
        }

        function renderBrowseHistory() {
            const historyItems = db.getRecentViews();
            const historyGrid = document.getElementById('historyGrid');
            
            if (historyItems.length === 0) {
                historyGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 80px; color: var(--text-light);">
                        <i class="fas fa-history" style="font-size: 80px; margin-bottom: 25px; opacity: 0.5; color: var(--primary);"></i>
                        <p style="font-size: 1.4rem; margin-bottom: 15px; font-weight: 600;">Your browsing history is empty</p>
                        <p style="margin-bottom: 30px;">Start browsing products to see them here</p>
                        <button class="btn btn-primary" onclick="showMainContent()" style="margin-top: 30px; padding: 18px 40px;">
                            <i class="fas fa-shopping-bag"></i> Start Shopping
                        </button>
                    </div>
                `;
                return;
            }
            
            historyGrid.innerHTML = historyItems.slice(0, 6).map(product => {
                const discountPercent = product.originalPrice > product.price ? 
                    Math.round((1 - product.price / product.originalPrice) * 100) : 0;
                
                return `
                    <div class="history-item" onclick="showProductDetail(${product.id})">
                        <img src="${product.image}" alt="${product.title}">
                        <div class="history-item-title">${product.title.substring(0, 40)}${product.title.length > 40 ? '...' : ''}</div>
                        <div class="history-item-price">AED ${formatPrice(product.price)}</div>
                        ${discountPercent > 0 ? `<div style="color: var(--accent); font-size: 0.9rem; font-weight: 900; margin-top: 10px; background: rgba(255, 51, 102, 0.1); padding: 6px 12px; border-radius: var(--radius-sm);">${discountPercent}% OFF</div>` : ''}
                    </div>
                `;
            }).join('');
        }

        function loadMoreHistory() {
            historyPage++;
            const historyItems = db.getRecentViews();
            const historyGrid = document.getElementById('historyGrid');
            
            const nextItems = historyItems.slice((historyPage - 1) * 6, historyPage * 6);
            
            if (nextItems.length === 0) {
                showNotification('No more history items to show');
                return;
            }
            
            nextItems.forEach(product => {
                const discountPercent = product.originalPrice > product.price ? 
                    Math.round((1 - product.price / product.originalPrice) * 100) : 0;
                
                const item = document.createElement('div');
                item.className = 'history-item';
                item.onclick = () => showProductDetail(product.id);
                item.innerHTML = `
                    <img src="${product.image}" alt="${product.title}">
                    <div class="history-item-title">${product.title.substring(0, 40)}${product.title.length > 40 ? '...' : ''}</div>
                    <div class="history-item-price">AED ${formatPrice(product.price)}</div>
                    ${discountPercent > 0 ? `<div style="color: var(--accent); font-size: 0.9rem; font-weight: 900; margin-top: 10px; background: rgba(255, 51, 102, 0.1); padding: 6px 12px; border-radius: var(--radius-sm);">${discountPercent}% OFF</div>` : ''}
                `;
                historyGrid.appendChild(item);
                
                // Animate new item
                item.style.animation = 'historyAppear 0.6s ease';
            });
            
            showNotification(`Loaded ${nextItems.length} more items`);
        }

        function updateFlashSaleCountdown() {
            function update() {
                const now = new Date();
                const hours = 23 - now.getHours();
                const minutes = 59 - now.getMinutes();
                const seconds = 59 - now.getSeconds();
                
                document.getElementById('flashHours').textContent = hours.toString().padStart(2, '0');
                document.getElementById('flashMinutes').textContent = minutes.toString().padStart(2, '0');
                document.getElementById('flashSeconds').textContent = seconds.toString().padStart(2, '0');
            }
            
            update();
            setInterval(update, 1000);
        }

        // ========== PRODUCT RENDERING ==========
        function renderProducts() {
            const productsGrid = document.getElementById('productsGrid');
            let filteredProducts = products;
            
            // Apply category filter
            if (currentFilter !== 'all') {
                filteredProducts = filteredProducts.filter(product => product.category === currentFilter);
            }
            
            // Clear grid
            productsGrid.innerHTML = '';
            
            if (filteredProducts.length === 0) {
                productsGrid.innerHTML = `
                    <div style="text-align: center; padding: 100px 20px; color: var(--text-light); grid-column: 1 / -1;">
                        <i class="fas fa-search" style="font-size: 80px; margin-bottom: 25px; opacity: 0.5; color: var(--primary);"></i>
                        <p style="font-size: 1.8rem; margin-bottom: 20px; font-weight: 600;">No products found</p>
                        <p style="margin-bottom: 40px;">Try different filters or browse categories</p>
                        <button class="btn btn-primary" onclick="showAllCategories()" style="margin-top: 30px; padding: 18px 40px;">
                            <i class="fas fa-th-large"></i> Browse All Categories
                        </button>
                    </div>
                `;
            } else {
                filteredProducts.forEach((product, index) => {
                    const productElement = createProductCard(product);
                    productElement.style.animationDelay = `${index * 0.05}s`;
                    productsGrid.appendChild(productElement);
                });
            }
        }

        function createProductCard(product) {
            const discountPercent = product.originalPrice > product.price ? 
                Math.round((1 - product.price / product.originalPrice) * 100) : 0;
            const isInWishlist = db.wishlist.some(p => p.id === product.id);
            const isInComparison = db.comparison.some(p => p.id === product.id);
            const stockIndicator = getStockIndicator(product.stock);
            
            const card = document.createElement('div');
            card.className = `product-card animate__animated animate__fadeInUp`;
            card.innerHTML = `
                ${product.badge ? `<div class="product-card-badge">${product.badge.toUpperCase()}</div>` : ''}
                <div class="product-image-container" onclick="showProductDetail(${product.id})">
                    <img src="${product.image}" alt="${product.title}" class="product-card-image">
                </div>
                <div class="product-content">
                    <h3 class="product-card-title" onclick="showProductDetail(${product.id})" style="cursor: pointer;">${product.title}</h3>
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 6px; color: var(--rating);">
                            <i class="fas fa-star"></i>
                            <span style="font-weight: 800;">${product.rating}</span>
                        </div>
                        <span style="color: var(--text-light); font-size: 0.9rem;">(${product.reviews} reviews)</span>
                        <span style="background: ${stockIndicator.class === 'in-stock' ? 'var(--success)' : stockIndicator.class === 'low-stock' ? 'var(--warning)' : 'var(--error)'}; color: ${stockIndicator.class === 'low-stock' ? 'var(--text)' : 'white'}; padding: 6px 14px; border-radius: var(--radius-sm); font-size: 0.8rem; font-weight: 900;">
                            ${stockIndicator.text}
                        </span>
                    </div>
                    <div class="product-price">
                        <span class="current-price">AED ${formatPrice(product.price)}</span>
                        ${product.originalPrice > product.price ? `
                            <span class="original-price">AED ${formatPrice(product.originalPrice)}</span>
                            <span class="discount">${discountPercent}% OFF</span>
                        ` : ''}
                    </div>
                    <div class="product-card-actions">
                        <button class="add-to-cart" onclick="addToCart(${product.id}, event)">
                            <i class="fas fa-shopping-cart"></i> Add to Cart
                        </button>
                        <button class="add-to-wishlist" onclick="toggleWishlist(${product.id}, event)" style="${isInWishlist ? 'background: var(--gradient-accent); color: white;' : ''}">
                            <i class="fas fa-heart"></i>
                        </button>
                        <button class="add-to-wishlist" onclick="showProductDetail(${product.id}, event)" title="Quick View">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
            `;
            return card;
        }

        function filterProducts(filter) {
            currentFilter = filter;
            renderProducts();
            
            // Scroll to products section
            setTimeout(() => {
                document.getElementById('products').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }, 100);
            
            showNotification(`Showing ${filter} products`);
        }

        function showAllCategories() {
            currentFilter = 'all';
            renderProducts();
            showNotification('Showing all products');
        }

        function showProductDetail(productId, e) {
            if (e) e.stopPropagation();
            
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            currentProductId = productId;
            db.addRecentView(productId);
            
            const modal = document.getElementById('productDetailModal');
            const discountPercent = product.originalPrice > product.price ? 
                Math.round((1 - product.price / product.originalPrice) * 100) : 0;
            
            const similarProducts = db.getSimilarProducts(product.category, productId);
            
            modal.innerHTML = `
                <div class="modal-content">
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                    <div class="product-detail-container">
                        <div class="product-detail-images">
                            <img src="${product.image}" alt="${product.title}" class="product-main-image">
                            <div class="product-thumbnails">
                                <img src="${product.image}" alt="${product.title}" class="product-thumbnail active" onclick="changeProductImage('${product.image}')">
                                ${product.image2 ? `<img src="${product.image2}" alt="${product.title}" class="product-thumbnail" onclick="changeProductImage('${product.image2}')">` : ''}
                            </div>
                        </div>
                        <div class="product-detail-info">
                            <div class="product-detail-badge">${product.badge.toUpperCase() || 'PREMIUM'}</div>
                            <h1 class="product-detail-title">${product.title}</h1>
                            
                            <div class="product-detail-price">
                                <div class="product-detail-current">AED ${formatPrice(product.price)}</div>
                                ${product.originalPrice > product.price ? `
                                    <div class="product-detail-original">AED ${formatPrice(product.originalPrice)}</div>
                                    <div class="product-detail-discount">${discountPercent}% OFF</div>
                                ` : ''}
                            </div>
                            
                            <div class="product-detail-rating">
                                <div class="product-detail-stars">
                                    ${'<i class="fas fa-star"></i>'.repeat(Math.floor(product.rating))}
                                    ${product.rating % 1 >= 0.5 ? '<i class="fas fa-star-half-alt"></i>' : ''}
                                </div>
                                <div class="product-detail-reviews">${product.reviews} reviews</div>
                            </div>
                            
                            <div class="product-detail-stock">${product.stock > 10 ? 'In Stock' : product.stock > 0 ? 'Low Stock' : 'Out of Stock'}</div>
                            
                            <div class="product-detail-description">
                                ${product.longDescription || product.description}
                            </div>
                            
                            ${product.specifications ? `
                                <div class="product-detail-specs">
                                    <h4>Specifications</h4>
                                    <ul>
                                        ${Object.entries(product.specifications).map(([key, value]) => `
                                            <li>
                                                <span style="font-weight: 700; color: var(--text);">${key}:</span>
                                                <span style="color: var(--text-light);">${value}</span>
                                            </li>
                                        `).join('')}
                                    </ul>
                                </div>
                            ` : ''}
                            
                            <div class="product-detail-actions">
                                <button class="btn btn-primary" onclick="addToCart(${product.id}); closeModal();">
                                    <i class="fas fa-shopping-cart"></i> Add to Cart
                                </button>
                                <button class="btn btn-secondary" onclick="toggleWishlist(${product.id}); closeModal();">
                                    <i class="fas fa-heart"></i> ${db.wishlist.some(p => p.id === product.id) ? 'Remove from Wishlist' : 'Add to Wishlist'}
                                </button>
                            </div>
                            
                            ${similarProducts.length > 0 ? `
                                <div class="similar-products-section">
                                    <h4>Similar Products</h4>
                                    <div class="similar-products">
                                        ${similarProducts.map(similar => `
                                            <div class="similar-product-card" onclick="showProductDetail(${similar.id})">
                                                <img src="${similar.image}" alt="${similar.title}">
                                                <div class="similar-product-title">${similar.title.substring(0, 30)}${similar.title.length > 30 ? '...' : ''}</div>
                                                <div class="similar-product-price">AED ${formatPrice(similar.price)}</div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `;
            
            modal.classList.add('active');
        }

        function changeProductImage(imageUrl) {
            const mainImage = document.querySelector('.product-main-image');
            const thumbnails = document.querySelectorAll('.product-thumbnail');
            
            mainImage.src = imageUrl;
            thumbnails.forEach(thumb => {
                thumb.classList.remove('active');
                if (thumb.src.includes(imageUrl)) {
                    thumb.classList.add('active');
                }
            });
        }

        // ========== CART FUNCTIONS ==========
        function updateCartUI() {
            const cartCount = document.querySelector('.cart-count');
            const wishlistCount = document.querySelector('.wishlist-count');
            const comparisonCount = document.querySelector('.comparison-count');
            const pointsValue = document.getElementById('pointsValue');
            const cartPreviewContent = document.getElementById('cartPreviewContent');
            const cartPreviewTotal = document.getElementById('cartPreviewTotal');
            
            cartCount.textContent = db.cart.reduce((total, item) => total + item.quantity, 0);
            wishlistCount.textContent = db.wishlist.length;
            comparisonCount.textContent = db.comparison.length;
            
            if (db.currentUser) {
                pointsValue.textContent = db.currentUser.points;
            } else {
                pointsValue.textContent = '0';
            }
            
            // Update cart preview
            if (db.cart.length === 0) {
                cartPreviewContent.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--text-light);">
                        <i class="fas fa-shopping-cart" style="font-size: 60px; margin-bottom: 20px; opacity: 0.5; color: var(--primary);"></i>
                        <p style="font-size: 1.1rem; margin-bottom: 10px;">Your cart is empty</p>
                        <p>Add some products to get started</p>
                    </div>
                `;
                cartPreviewTotal.textContent = 'AED 0';
            } else {
                cartPreviewContent.innerHTML = db.cart.slice(0, 3).map(item => {
                    const itemTotal = item.price * item.quantity;
                    return `
                        <div class="cart-preview-item">
                            <img src="${item.image}" alt="${item.title}">
                            <div class="cart-preview-item-info">
                                <div class="cart-preview-item-title">${item.title.substring(0, 30)}${item.title.length > 30 ? '...' : ''}</div>
                                <div class="cart-preview-item-price">AED ${formatPrice(item.price)}  ${item.quantity}</div>
                            </div>
                        </div>
                    `;
                }).join('');
                
                if (db.cart.length > 3) {
                    cartPreviewContent.innerHTML += `
                        <div style="text-align: center; padding: 20px; color: var(--text-light); font-size: 0.9rem; font-weight: 700;">
                            <i class="fas fa-ellipsis-h"></i> +${db.cart.length - 3} more items
                        </div>
                    `;
                }
                
                cartPreviewTotal.textContent = `AED ${formatPrice(db.getCartTotal())}`;
            }
        }

        function addToCart(productId, event) {
            if (event) event.stopPropagation();
            
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            if (product.stock <= 0) {
                showNotification('This product is out of stock', true);
                return;
            }
            
            db.addToCart(productId);
            updateCartUI();
            
            // Enhanced confetti effect
            if (product.price > 2000) {
                confetti({
                    particleCount: 200,
                    spread: 120,
                    origin: { y: 0.6 },
                    colors: ['#0066FF', '#FF3366', '#10B981', '#F59E0B']
                });
            } else {
                confetti({
                    particleCount: 100,
                    spread: 90,
                    origin: { y: 0.6 },
                    colors: ['#0066FF', '#FF3366']
                });
            }
            
            showNotification(` Added ${product.title.substring(0, 35)}${product.title.length > 35 ? '...' : ''} to cart`);
        }

        function toggleWishlist(productId, event) {
            if (event) event.stopPropagation();
            
            if (db.wishlist.some(p => p.id === productId)) {
                db.removeFromWishlist(productId);
                showNotification('Removed from wishlist');
            } else {
                db.addToWishlist(productId);
                showNotification('Added to wishlist');
                
                // Enhanced heart animation
                const heart = event?.target?.closest('button');
                if (heart) {
                    heart.style.transform = 'scale(1.4)';
                    heart.style.transition = 'transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
                    setTimeout(() => {
                        heart.style.transform = 'scale(1)';
                    }, 300);
                }
            }
            
            updateCartUI();
            renderProducts();
        }

        // ========== PROFILE MODAL ==========
        function showProfileModal(e, tab = 'overview') {
            if (e) e.preventDefault();
            
            if (!db.currentUser) {
                showAuthModal();
                return;
            }
            
            currentProfileTab = tab;
            const modal = document.getElementById('profileModal');
            
            modal.innerHTML = `
                <div class="modal-content">
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                    <div class="profile-tabs">
                        <button class="profile-tab ${tab === 'overview' ? 'active' : ''}" onclick="switchProfileTab('overview')">
                            <i class="fas fa-user"></i> Overview
                        </button>
                        <button class="profile-tab ${tab === 'orders' ? 'active' : ''}" onclick="switchProfileTab('orders')">
                            <i class="fas fa-shopping-bag"></i> Orders
                        </button>
                        <button class="profile-tab ${tab === 'wishlist' ? 'active' : ''}" onclick="switchProfileTab('wishlist')">
                            <i class="fas fa-heart"></i> Wishlist
                        </button>
                        <button class="profile-tab ${tab === 'settings' ? 'active' : ''}" onclick="switchProfileTab('settings')">
                            <i class="fas fa-cog"></i> Settings
                        </button>
                    </div>
                    
                    <div class="profile-content">
                        <div class="profile-section ${tab === 'overview' ? 'active' : ''}" id="profileOverview">
                            ${renderProfileOverview()}
                        </div>
                        <div class="profile-section ${tab === 'orders' ? 'active' : ''}" id="profileOrders">
                            ${renderProfileOrders()}
                        </div>
                        <div class="profile-section ${tab === 'wishlist' ? 'active' : ''}" id="profileWishlist">
                            ${renderProfileWishlist()}
                        </div>
                        <div class="profile-section ${tab === 'settings' ? 'active' : ''}" id="profileSettings">
                            ${renderProfileSettings()}
                        </div>
                    </div>
                </div>
            `;
            
            modal.classList.add('active');
        }

        function switchProfileTab(tab) {
            currentProfileTab = tab;
            const modal = document.getElementById('profileModal');
            
            // Update tabs
            modal.querySelectorAll('.profile-tab').forEach(tabElement => {
                tabElement.classList.remove('active');
            });
            modal.querySelector(`.profile-tab[onclick*="${tab}"]`).classList.add('active');
            
            // Update content
            modal.querySelectorAll('.profile-section').forEach(section => {
                section.classList.remove('active');
            });
            modal.querySelector(`#profile${tab.charAt(0).toUpperCase() + tab.slice(1)}`).classList.add('active');
            
            // Re-render content
            if (tab === 'overview') {
                modal.querySelector('#profileOverview').innerHTML = renderProfileOverview();
            } else if (tab === 'orders') {
                modal.querySelector('#profileOrders').innerHTML = renderProfileOrders();
            } else if (tab === 'wishlist') {
                modal.querySelector('#profileWishlist').innerHTML = renderProfileWishlist();
            } else if (tab === 'settings') {
                modal.querySelector('#profileSettings').innerHTML = renderProfileSettings();
            }
        }

        function renderProfileOverview() {
            const user = db.currentUser;
            const orders = db.getUserOrders();
            const totalSpent = orders.reduce((total, order) => total + order.total, 0);
            
            return `
                <div class="profile-header">
                    <div class="profile-avatar">
                        ${user.name.charAt(0).toUpperCase()}
                    </div>
                    <div class="profile-info">
                        <h3>${user.name}</h3>
                        <p><i class="fas fa-envelope"></i> ${user.email}</p>
                        <p><i class="fas fa-phone"></i> ${user.phone || 'Not provided'}</p>
                        <p><i class="fas fa-map-marker-alt"></i> ${user.address || 'No address saved'}</p>
                    </div>
                </div>
                
                <div class="profile-stats">
                    <div class="profile-stat">
                        <div class="profile-stat-value">${orders.length}</div>
                        <div class="profile-stat-label">Total Orders</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-value">${user.points}</div>
                        <div class="profile-stat-label">Reward Points</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-value">AED ${formatPrice(totalSpent)}</div>
                        <div class="profile-stat-label">Total Spent</div>
                    </div>
                    <div class="profile-stat">
                        <div class="profile-stat-value">${db.wishlist.length}</div>
                        <div class="profile-stat-label">Wishlist Items</div>
                    </div>
                </div>
                
                <div style="margin-top: 40px;">
                    <h3 style="margin-bottom: 25px;">Recent Orders</h3>
                    ${orders.length > 0 ? `
                        <div class="orders-list">
                            ${orders.slice(0, 2).map(order => `
                                <div class="order-card">
                                    <div class="order-header">
                                        <div class="order-id">Order #${order.id}</div>
                                        <div class="order-status ${order.status}">${order.status.charAt(0).toUpperCase() + order.status.slice(1)}</div>
                                    </div>
                                    <div class="order-items">
                                        ${order.items.map(item => `
                                            <div class="order-item">
                                                <img src="${item.image}" alt="${item.title}">
                                                <div style="font-size: 0.85rem; font-weight: 700;">${item.quantity}x</div>
                                            </div>
                                        `).join('')}
                                    </div>
                                    <div class="order-footer">
                                        <div style="color: var(--text-light); font-size: 0.95rem;">${new Date(order.date).toLocaleDateString()}</div>
                                        <div class="order-total">AED ${formatPrice(order.total)}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        ${orders.length > 2 ? `
                            <button class="btn btn-secondary" onclick="switchProfileTab('orders')" style="width: 100%; margin-top: 25px; padding: 18px;">
                                View All Orders
                            </button>
                        ` : ''}
                    ` : `
                        <div style="text-align: center; padding: 50px; color: var(--text-light);">
                            <i class="fas fa-shopping-bag" style="font-size: 60px; margin-bottom: 20px; opacity: 0.5; color: var(--primary);"></i>
                            <p style="font-size: 1.2rem; margin-bottom: 15px; font-weight: 600;">No orders yet</p>
                            <p style="margin-bottom: 30px;">Start shopping to see your orders here</p>
                            <button class="btn btn-primary" onclick="closeModal(); showMainContent();" style="margin-top: 20px; padding: 18px 40px;">
                                Start Shopping
                            </button>
                        </div>
                    `}
                </div>
            `;
        }

        function renderProfileOrders() {
            const orders = db.getUserOrders();
            
            return `
                <h3 style="margin-bottom: 35px;">My Orders</h3>
                ${orders.length > 0 ? `
                    <div class="orders-list">
                        ${orders.map(order => `
                            <div class="order-card">
                                <div class="order-header">
                                    <div class="order-id">Order #${order.id}</div>
                                    <div class="order-status ${order.status}">${order.status.charAt(0).toUpperCase() + order.status.slice(1)}</div>
                                </div>
                                <div class="order-items">
                                    ${order.items.map(item => `
                                        <div class="order-item">
                                            <img src="${item.image}" alt="${item.title}">
                                            <div style="font-size: 0.85rem; margin-top: 8px; font-weight: 700;">${item.quantity}x</div>
                                        </div>
                                    `).join('')}
                                </div>
                                <div class="order-footer">
                                    <div>
                                        <div style="color: var(--text-light); font-size: 0.95rem;">${new Date(order.date).toLocaleDateString()}</div>
                                        <div style="color: var(--text-light); font-size: 0.95rem; margin-top: 8px;">Tracking: ${order.tracking}</div>
                                    </div>
                                    <div class="order-total">AED ${formatPrice(order.total)}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                ` : `
                    <div style="text-align: center; padding: 80px; color: var(--text-light);">
                        <i class="fas fa-shopping-bag" style="font-size: 80px; margin-bottom: 25px; opacity: 0.5; color: var(--primary);"></i>
                        <p style="font-size: 1.4rem; margin-bottom: 15px; font-weight: 600;">No orders yet</p>
                        <p style="margin-bottom: 40px;">Start shopping to see your orders here</p>
                        <button class="btn btn-primary" onclick="closeModal(); showMainContent();" style="margin-top: 30px; padding: 18px 40px;">
                            <i class="fas fa-shopping-bag"></i> Start Shopping
                        </button>
                    </div>
                `}
            `;
        }

        function renderProfileWishlist() {
            return `
                <h3 style="margin-bottom: 35px;">My Wishlist</h3>
                ${db.wishlist.length > 0 ? `
                    <div class="products-grid" style="grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));">
                        ${db.wishlist.map(product => {
                            const discountPercent = product.originalPrice > product.price ? 
                                Math.round((1 - product.price / product.originalPrice) * 100) : 0;
                            
                            return `
                                <div class="product-card" onclick="showProductDetail(${product.id})">
                                    <div class="product-card-badge">WISHLIST</div>
                                    <div class="product-image-container">
                                        <img src="${product.image}" alt="${product.title}" class="product-card-image">
                                    </div>
                                    <div class="product-content">
                                        <h3 class="product-card-title">${product.title}</h3>
                                        <div class="product-price">
                                            <span class="current-price">AED ${formatPrice(product.price)}</span>
                                            ${product.originalPrice > product.price ? `
                                                <span class="original-price">AED ${formatPrice(product.originalPrice)}</span>
                                                <span class="discount">${discountPercent}% OFF</span>
                                            ` : ''}
                                        </div>
                                        <div class="product-card-actions">
                                            <button class="add-to-cart" onclick="addToCart(${product.id}, event)">
                                                <i class="fas fa-shopping-cart"></i> Add to Cart
                                            </button>
                                            <button class="add-to-wishlist" onclick="toggleWishlist(${product.id}, event)" style="background: var(--gradient-accent); color: white;">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                ` : `
                    <div style="text-align: center; padding: 80px; color: var(--text-light);">
                        <i class="fas fa-heart" style="font-size: 80px; margin-bottom: 25px; opacity: 0.5; color: var(--accent);"></i>
                        <p style="font-size: 1.4rem; margin-bottom: 15px; font-weight: 600;">Your wishlist is empty</p>
                        <p style="margin-bottom: 40px;">Add products to your wishlist to save them for later</p>
                        <button class="btn btn-primary" onclick="closeModal(); showMainContent();" style="margin-top: 30px; padding: 18px 40px;">
                            <i class="fas fa-shopping-bag"></i> Start Shopping
                        </button>
                    </div>
                `}
            `;
        }

        function renderProfileSettings() {
            const user = db.currentUser;
            
            return `
                <h3 style="margin-bottom: 35px;">Profile Settings</h3>
                <form onsubmit="updateProfile(event)" class="profile-form">
                    <div class="profile-form-group">
                        <label>Full Name</label>
                        <input type="text" id="profileName" value="${user.name}" required>
                    </div>
                    <div class="profile-form-group">
                        <label>Email Address</label>
                        <input type="email" id="profileEmail" value="${user.email}" required>
                    </div>
                    <div class="profile-form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="profilePhone" value="${user.phone || ''}" placeholder="+971 50 123 4567">
                    </div>
                    <div class="profile-form-group">
                        <label>Address</label>
                        <input type="text" id="profileAddress" value="${user.address || ''}" placeholder="Dubai Marina, Dubai">
                    </div>
                    <div class="profile-form-group">
                        <label>City</label>
                        <input type="text" id="profileCity" value="${user.city || ''}" placeholder="Dubai">
                    </div>
                    <div class="profile-form-group">
                        <label>Emirate</label>
                        <select id="profileEmirate">
                            <option value="Dubai" ${user.emirate === 'Dubai' ? 'selected' : ''}>Dubai</option>
                            <option value="Abu Dhabi" ${user.emirate === 'Abu Dhabi' ? 'selected' : ''}>Abu Dhabi</option>
                            <option value="Sharjah" ${user.emirate === 'Sharjah' ? 'selected' : ''}>Sharjah</option>
                            <option value="Ajman" ${user.emirate === 'Ajman' ? 'selected' : ''}>Ajman</option>
                            <option value="Umm Al Quwain" ${user.emirate === 'Umm Al Quwain' ? 'selected' : ''}>Umm Al Quwain</option>
                            <option value="Ras Al Khaimah" ${user.emirate === 'Ras Al Khaimah' ? 'selected' : ''}>Ras Al Khaimah</option>
                            <option value="Fujairah" ${user.emirate === 'Fujairah' ? 'selected' : ''}>Fujairah</option>
                        </select>
                    </div>
                    <div class="profile-form-group">
                        <label>Postal Code</label>
                        <input type="text" id="profilePostalCode" value="${user.postalCode || ''}" placeholder="00000">
                    </div>
                    
                    <div style="margin: 40px 0; padding: 25px; background: var(--bg-lighter); border-radius: var(--radius-xl); border: 1px solid var(--border);">
                        <h4 style="margin-bottom: 20px; color: var(--text);">Notification Preferences</h4>
                        <div style="display: flex; flex-direction: column; gap: 20px;">
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <input type="checkbox" id="profileMarketing" ${user.marketingEmails ? 'checked' : ''}>
                                <label for="profileMarketing" style="font-size: 1rem;">Receive marketing emails about new products and offers</label>
                            </div>
                            <div style="display: flex; align-items: center; gap: 15px;">
                                <input type="checkbox" id="profileSMS" ${user.smsNotifications ? 'checked' : ''}>
                                <label for="profileSMS" style="font-size: 1rem;">Receive SMS notifications about order updates</label>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 20px;">
                        <button type="submit" class="btn btn-primary" style="flex: 1; padding: 20px;">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="logout()" style="flex: 1; padding: 20px;">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </div>
                </form>
            `;
        }

        function updateProfile(e) {
            e.preventDefault();
            
            const userData = {
                name: document.getElementById('profileName').value,
                email: document.getElementById('profileEmail').value,
                phone: document.getElementById('profilePhone').value,
                address: document.getElementById('profileAddress').value,
                city: document.getElementById('profileCity').value,
                emirate: document.getElementById('profileEmirate').value,
                postalCode: document.getElementById('profilePostalCode').value,
                marketingEmails: document.getElementById('profileMarketing').checked,
                smsNotifications: document.getElementById('profileSMS').checked
            };
            
            db.updateUserProfile(userData);
            showNotification('Profile updated successfully');
            switchProfileTab('overview');
        }

        // ========== AUTH MODAL FUNCTIONS ==========
        function showAuthModal() {
            const modal = document.getElementById('authModal');
            modal.innerHTML = `
                <div class="modal-content">
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                    <h2 style="margin-bottom: 40px; color: var(--text); text-align: center;">Welcome to HIK Store</h2>
                    
                    <form onsubmit="handleLogin(event)" style="margin-bottom: 30px;">
                        <div class="form-group" style="margin-bottom: 25px;">
                            <input type="email" id="loginEmail" required placeholder=" " style="padding: 18px; font-size: 1.1rem; border-radius: var(--radius); border: 2px solid var(--border);">
                            <label>Email Address</label>
                        </div>
                        <div class="form-group" style="margin-bottom: 30px;">
                            <input type="password" id="loginPassword" required placeholder=" " style="padding: 18px; font-size: 1.1rem; border-radius: var(--radius); border: 2px solid var(--border);">
                            <label>Password</label>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 20px; font-size: 1.2rem;">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </button>
                    </form>
                    
                    <div style="text-align: center; margin-top: 30px; color: var(--text-light); font-size: 1.1rem;">
                        Don't have an account? <a href="#" onclick="showRegister()" style="color: var(--primary); font-weight: 700;">Register</a>
                    </div>
                    
                    <div style="margin-top: 40px; padding-top: 25px; border-top: 1px solid var(--border);">
                        <p style="color: var(--text-light); font-size: 1rem; text-align: center;">
                            <i class="fas fa-info-circle"></i> Demo Account: demo@hikstore.ae / demo123
                        </p>
                    </div>
                </div>
            `;
            modal.classList.add('active');
        }

        function showRegister() {
            const modal = document.getElementById('authModal');
            modal.innerHTML = `
                <div class="modal-content">
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                    <h2 style="margin-bottom: 40px; color: var(--text); text-align: center;">Create Account</h2>
                    
                    <form onsubmit="handleRegister(event)">
                        <div class="form-group" style="margin-bottom: 25px;">
                            <input type="text" id="registerName" required placeholder=" " style="padding: 18px; font-size: 1.1rem; border-radius: var(--radius); border: 2px solid var(--border);">
                            <label>Full Name</label>
                        </div>
                        <div class="form-group" style="margin-bottom: 25px;">
                            <input type="email" id="registerEmail" required placeholder=" " style="padding: 18px; font-size: 1.1rem; border-radius: var(--radius); border: 2px solid var(--border);">
                            <label>Email Address</label>
                        </div>
                        <div class="form-group" style="margin-bottom: 30px;">
                            <input type="password" id="registerPassword" required placeholder=" " style="padding: 18px; font-size: 1.1rem; border-radius: var(--radius); border: 2px solid var(--border);">
                            <label>Password (min. 6 characters)</label>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 20px; font-size: 1.2rem;">
                            <i class="fas fa-user-plus"></i> Register
                        </button>
                    </form>
                    
                    <div style="text-align: center; margin-top: 30px; color: var(--text-light); font-size: 1.1rem;">
                        Already have an account? <a href="#" onclick="showAuthModal()" style="color: var(--primary); font-weight: 700;">Login</a>
                    </div>
                </div>
            `;
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            const user = db.login(email, password);
            if (user) {
                closeModal();
                showNotification(` Welcome back, ${user.name}! You have ${user.points.toLocaleString()} reward points.`);
                updateCartUI();
                
                // Enhanced confetti welcome
                confetti({
                    particleCount: 150,
                    spread: 100,
                    origin: { y: 0.6 },
                    colors: ['#0066FF', '#FF3366', '#10B981', '#F59E0B', '#667eea', '#764ba2']
                });
            } else {
                showNotification('Invalid email or password', true);
            }
        }

        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value;
            
            if (password.length < 6) {
                showNotification('Password must be at least 6 characters', true);
                return;
            }
            
            const result = db.register(name, email, password);
            if (result.error) {
                showNotification(result.error, true);
            } else {
                closeModal();
                showNotification(' Account created successfully! Welcome to HIK Store. You earned 200 bonus points!');
                updateCartUI();
                
                // Big confetti celebration
                confetti({
                    particleCount: 300,
                    spread: 150,
                    origin: { y: 0.6 },
                    colors: ['#0066FF', '#FF3366', '#10B981', '#F59E0B', '#667eea', '#764ba2', '#ff6b6b', '#ffa726']
                });
            }
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                db.currentUser = null;
                db.save();
                closeModal();
                showNotification('Logged out successfully');
                updateCartUI();
            }
        }

        // ========== HELPER FUNCTIONS ==========
        function closeModal() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.classList.remove('active');
            });
        }

        function openWhatsApp() {
            const product = currentProductId ? products.find(p => p.id === currentProductId) : null;
            const message = product ? 
                `Hello! I'm interested in ${product.title} (Product ID: ${product.id})` :
                "Hello! I need assistance with HIK Store products.";
            
            window.open(`https://wa.me/971501234567?text=${encodeURIComponent(message)}`, '_blank');
        }

        function subscribeNewsletter() {
            const email = document.getElementById('newsletterEmail').value;
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (email && emailRegex.test(email)) {
                showNotification(' Thank you for subscribing to our newsletter! You will receive exclusive offers soon.');
                document.getElementById('newsletterEmail').value = '';
                
                confetti({
                    particleCount: 120,
                    spread: 80,
                    origin: { y: 0.6 }
                });
            } else {
                showNotification('Please enter a valid email address', true);
            }
        }

        function showHelpModal() {
            const modal = document.getElementById('helpModal');
            modal.innerHTML = `
                <div class="modal-content">
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                    <h2 style="margin-bottom: 40px; color: var(--text); text-align: center;"><i class="fas fa-headset"></i> Customer Support</h2>
                    
                    <div style="color: var(--text-light); line-height: 1.8; margin-bottom: 40px;">
                        <p style="margin-bottom: 20px;"><strong><i class="fas fa-phone"></i> 24/7 Customer Support:</strong> +971 50 123 4567</p>
                        <p style="margin-bottom: 20px;"><strong><i class="fas fa-envelope"></i> Email:</strong> support@hikstore.ae</p>
                        <p style="margin-bottom: 20px;"><strong><i class="fas fa-clock"></i> Business Hours:</strong> 24/7 (UAE Time)</p>
                        <p style="margin-bottom: 30px;"><strong><i class="fas fa-bolt"></i> Response Time:</strong> Within 1 hour</p>
                        
                        <div style="background: var(--primary-ultralight); padding: 25px; border-radius: var(--radius-xl); margin-bottom: 30px; border: 1px solid var(--border);">
                            <h3 style="margin-bottom: 20px; color: var(--text);"><i class="fas fa-question-circle"></i> Need Help?</h3>
                            <p style="font-size: 1.1rem;">Our dedicated support team is available 24/7 to assist you with any questions or concerns about your orders, products, or account.</p>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="openWhatsApp()" style="width: 100%; padding: 20px; font-size: 1.2rem;">
                        <i class="fab fa-whatsapp"></i> Chat with Support on WhatsApp
                    </button>
                </div>
            `;
            modal.classList.add('active');
        }

        function showComparisonModal() {
            if (db.comparison.length < 2) {
                showNotification('Add at least 2 products to compare', true);
                return;
            }
            
            const modal = document.getElementById('helpModal');
            
            modal.innerHTML = `
                <div class="modal-content">
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                    <h2 style="margin-bottom: 40px; color: var(--text); text-align: center;"><i class="fas fa-balance-scale"></i> Product Comparison</h2>
                    
                    <div style="overflow-x: auto; margin-bottom: 40px;">
                        <table style="width: 100%; border-collapse: collapse; min-width: 700px;">
                            <thead>
                                <tr>
                                    <th style="padding: 25px; text-align: left; border-bottom: 2px solid var(--border); background: var(--bg-lighter); color: var(--text); font-size: 1.1rem;">Feature</th>
                                    ${db.comparison.map(product => `
                                        <th style="padding: 25px; text-align: center; border-bottom: 2px solid var(--border); background: var(--bg-lighter); color: var(--text); min-width: 220px;">
                                            <div style="max-width: 200px; margin: 0 auto;">
                                                <img src="${product.image}" alt="${product.title}" style="width: 120px; height: 120px; object-fit: contain; margin-bottom: 20px; border-radius: var(--radius-xl); background: white; padding: 15px; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));">
                                                <div style="font-weight: 800; margin-bottom: 15px; color: var(--text); font-size: 1rem;">${product.title.substring(0, 50)}${product.title.length > 50 ? '...' : ''}</div>
                                                <div style="color: var(--primary); font-weight: 900; margin-bottom: 15px; font-size: 1.2rem;">AED ${formatPrice(product.price)}</div>
                                            </div>
                                        </th>
                                    `).join('')}
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 20px; border-bottom: 1px solid var(--border); font-weight: 800; background: var(--bg-lighter); color: var(--text);">Category</td>
                                    ${db.comparison.map(product => `
                                        <td style="padding: 20px; text-align: center; border-bottom: 1px solid var(--border); color: var(--text-light); font-size: 1.1rem;">
                                            ${product.category.charAt(0).toUpperCase() + product.category.slice(1)}
                                        </td>
                                    `).join('')}
                                </tr>
                                <tr>
                                    <td style="padding: 20px; border-bottom: 1px solid var(--border); font-weight: 800; background: var(--bg-lighter); color: var(--text);">Rating</td>
                                    ${db.comparison.map(product => `
                                        <td style="padding: 20px; text-align: center; border-bottom: 1px solid var(--border); color: var(--rating); font-weight: 900; font-size: 1.2rem;">
                                            ${product.rating}  (${product.reviews})
                                        </td>
                                    `).join('')}
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="closeModal()" style="flex: 1; padding: 20px;">
                            <i class="fas fa-times"></i> Close
                        </button>
                        <button class="btn btn-secondary" onclick="db.clearComparison(); closeModal(); updateCartUI();" style="flex: 1; padding: 20px;">
                            <i class="fas fa-trash"></i> Clear All
                        </button>
                    </div>
                </div>
            `;
            modal.classList.add('active');
        }

        function openMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const menuBtn = document.getElementById('mobileMenuBtn');
            
            menu.classList.add('active');
            menuBtn.classList.add('active');
        }

        function closeMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const menuBtn = document.getElementById('mobileMenuBtn');
            
            menu.classList.remove('active');
            menuBtn.classList.remove('active');
        }

               // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', () => {
            renderHomePage();
            renderProducts();
            updateCartUI();
            startSlider();
            
            // Mobile menu
            document.getElementById('mobileMenuBtn').addEventListener('click', openMobileMenu);
            document.getElementById('mobileMenu').addEventListener('click', (e) => {
                if (e.target === e.currentTarget) {
                    closeMobileMenu();
                }
            });
            
            // Scroll effects
            window.addEventListener('scroll', function() {
                const topBar = document.getElementById('topBar');
                const backToTop = document.getElementById('backToTop');
                
                if (window.scrollY > 150) {
                    topBar.classList.add('scrolled');
                    backToTop.classList.add('visible');
                } else {
                    topBar.classList.remove('scrolled');
                    backToTop.classList.remove('visible');
                }
            });
            
            // Back to top
            document.getElementById('backToTop').addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase().trim();
                if (searchTerm.length >= 2) {
                    const filtered = products.filter(product => 
                        product.title.toLowerCase().includes(searchTerm) ||
                        (product.tags && product.tags.some(tag => tag.toLowerCase().includes(searchTerm))) ||
                        product.category.toLowerCase().includes(searchTerm) ||
                        product.description.toLowerCase().includes(searchTerm)
                    );
                    
                    const productsGrid = document.getElementById('productsGrid');
                    productsGrid.innerHTML = '';
                    
                    if (filtered.length === 0) {
                        productsGrid.innerHTML = `
                            <div style="text-align: center; padding: 100px 20px; color: var(--text-light); grid-column: 1 / -1;">
                                <i class="fas fa-search" style="font-size: 80px; margin-bottom: 25px; opacity: 0.5; color: var(--primary);"></i>
                                <p style="font-size: 1.8rem; margin-bottom: 20px; font-weight: 600;">No products found for "${searchTerm}"</p>
                                <p style="margin-bottom: 40px;">Try different keywords or browse categories</p>
                                <button class="btn btn-primary" onclick="showAllCategories()" style="margin-top: 30px; padding: 18px 40px;">
                                    <i class="fas fa-th-large"></i> Browse All Categories
                                </button>
                            </div>
                        `;
                    } else {
                        filtered.forEach((product, index) => {
                            const productElement = createProductCard(product);
                            productElement.style.animationDelay = `${index * 0.05}s`;
                            productsGrid.appendChild(productElement);
                        });
                    }
                } else if (searchTerm.length === 0) {
                    renderProducts();
                }
            });
            
            // Slider events
            document.querySelectorAll('.product-slider-container').forEach(container => {
                container.addEventListener('scroll', () => {
                    updateSliderNav(container.id);
                });
            });
            
            // Hero slider hover
            const heroSlider = document.querySelector('.hero-slider');
            if (heroSlider) {
                heroSlider.addEventListener('mouseenter', stopSlider);
                heroSlider.addEventListener('mouseleave', startSlider);
            }
            
            // Auto-login demo user for testing
            setTimeout(() => {
                if (!db.currentUser) {
                    const demoUser = db.users.find(u => u.email === 'demo@hikstore.ae');
                    if (demoUser) {
                        db.currentUser = demoUser;
                        db.save();
                        updateCartUI();
                        showNotification(' Demo user auto-logged in. You have 1500 reward points!');
                    }
                }
            }, 2000);
            
            // Close cart dropdown when clicking outside
            document.addEventListener('click', (e) => {
                const cartBtn = document.getElementById('cartBtn');
                const cartPreview = document.querySelector('.cart-preview');
                
                if (cartBtn && cartPreview && !cartBtn.contains(e.target) && !cartPreview.contains(e.target)) {
                    cartPreview.style.display = 'none';
                }
            });
            
            // Prevent cart dropdown from closing when clicking inside
            document.querySelector('.cart-preview')?.addEventListener('click', (e) => {
                e.stopPropagation();
            });
        });
        // ========== EXPORT FUNCTIONS ==========
        window.showMainContent = showMainContent;
        window.filterProducts = filterProducts;
        window.showAllCategories = showAllCategories;
        window.addToCart = addToCart;
        window.toggleWishlist = toggleWishlist;
        window.openWhatsApp = openWhatsApp;
        window.subscribeNewsletter = subscribeNewsletter;
        window.closeModal = closeModal;
        window.showAuthModal = showAuthModal;
        window.showHelpModal = showHelpModal;
        window.handleLogin = handleLogin;
        window.handleRegister = handleRegister;
        window.logout = logout;
        window.showProductDetail = showProductDetail;
        window.goToSlide = goToSlide;
        window.slideLeft = slideLeft;
        window.slideRight = slideRight;
        window.loadMoreHistory = loadMoreHistory;
        window.showComparisonModal = showComparisonModal;
        window.showProfileModal = showProfileModal;
        window.switchProfileTab = switchProfileTab;
        window.openMobileMenu = openMobileMenu;
        window.closeMobileMenu = closeMobileMenu;
        window.showCheckoutModal = showCheckoutModal;
        window.redirectToCheckout = redirectToCheckout;
    </script>
</body>
</html>
